8f7e7b0e24fdc13d6d88409392009160
'use strict';

var InteractionManager = require('./InteractionManager');
var TouchHistoryMath = require('./TouchHistoryMath');
var currentCentroidXOfTouchesChangedAfter = TouchHistoryMath.currentCentroidXOfTouchesChangedAfter;
var currentCentroidYOfTouchesChangedAfter = TouchHistoryMath.currentCentroidYOfTouchesChangedAfter;
var previousCentroidXOfTouchesChangedAfter = TouchHistoryMath.previousCentroidXOfTouchesChangedAfter;
var previousCentroidYOfTouchesChangedAfter = TouchHistoryMath.previousCentroidYOfTouchesChangedAfter;
var currentCentroidX = TouchHistoryMath.currentCentroidX;
var currentCentroidY = TouchHistoryMath.currentCentroidY;
var PanResponder = {
  _initializeGestureState: function _initializeGestureState(gestureState) {
    gestureState.moveX = 0;
    gestureState.moveY = 0;
    gestureState.x0 = 0;
    gestureState.y0 = 0;
    gestureState.dx = 0;
    gestureState.dy = 0;
    gestureState.vx = 0;
    gestureState.vy = 0;
    gestureState.numberActiveTouches = 0;
    gestureState._accountsForMovesUpTo = 0;
  },
  _updateGestureStateOnMove: function _updateGestureStateOnMove(gestureState, touchHistory) {
    gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
    gestureState.moveX = currentCentroidXOfTouchesChangedAfter(touchHistory, gestureState._accountsForMovesUpTo);
    gestureState.moveY = currentCentroidYOfTouchesChangedAfter(touchHistory, gestureState._accountsForMovesUpTo);
    var movedAfter = gestureState._accountsForMovesUpTo;
    var prevX = previousCentroidXOfTouchesChangedAfter(touchHistory, movedAfter);
    var x = currentCentroidXOfTouchesChangedAfter(touchHistory, movedAfter);
    var prevY = previousCentroidYOfTouchesChangedAfter(touchHistory, movedAfter);
    var y = currentCentroidYOfTouchesChangedAfter(touchHistory, movedAfter);
    var nextDX = gestureState.dx + (x - prevX);
    var nextDY = gestureState.dy + (y - prevY);
    var dt = touchHistory.mostRecentTimeStamp - gestureState._accountsForMovesUpTo;
    gestureState.vx = (nextDX - gestureState.dx) / dt;
    gestureState.vy = (nextDY - gestureState.dy) / dt;
    gestureState.dx = nextDX;
    gestureState.dy = nextDY;
    gestureState._accountsForMovesUpTo = touchHistory.mostRecentTimeStamp;
  },
  create: function create(config) {
    var interactionState = {
      handle: null
    };
    var gestureState = {
      stateID: Math.random(),
      moveX: 0,
      moveY: 0,
      x0: 0,
      y0: 0,
      dx: 0,
      dy: 0,
      vx: 0,
      vy: 0,
      numberActiveTouches: 0,
      _accountsForMovesUpTo: 0
    };
    var panHandlers = {
      onStartShouldSetResponder: function onStartShouldSetResponder(event) {
        return config.onStartShouldSetPanResponder == null ? false : config.onStartShouldSetPanResponder(event, gestureState);
      },
      onMoveShouldSetResponder: function onMoveShouldSetResponder(event) {
        return config.onMoveShouldSetPanResponder == null ? false : config.onMoveShouldSetPanResponder(event, gestureState);
      },
      onStartShouldSetResponderCapture: function onStartShouldSetResponderCapture(event) {
        if (event.nativeEvent.touches.length === 1) {
          PanResponder._initializeGestureState(gestureState);
        }
        gestureState.numberActiveTouches = event.touchHistory.numberActiveTouches;
        return config.onStartShouldSetPanResponderCapture != null ? config.onStartShouldSetPanResponderCapture(event, gestureState) : false;
      },
      onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture(event) {
        var touchHistory = event.touchHistory;
        if (gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp) {
          return false;
        }
        PanResponder._updateGestureStateOnMove(gestureState, touchHistory);
        return config.onMoveShouldSetPanResponderCapture ? config.onMoveShouldSetPanResponderCapture(event, gestureState) : false;
      },
      onResponderGrant: function onResponderGrant(event) {
        if (!interactionState.handle) {
          interactionState.handle = InteractionManager.createInteractionHandle();
        }
        gestureState.x0 = currentCentroidX(event.touchHistory);
        gestureState.y0 = currentCentroidY(event.touchHistory);
        gestureState.dx = 0;
        gestureState.dy = 0;
        if (config.onPanResponderGrant) {
          config.onPanResponderGrant(event, gestureState);
        }
        return config.onShouldBlockNativeResponder == null ? true : config.onShouldBlockNativeResponder(event, gestureState);
      },
      onResponderReject: function onResponderReject(event) {
        clearInteractionHandle(interactionState, config.onPanResponderReject, event, gestureState);
      },
      onResponderRelease: function onResponderRelease(event) {
        clearInteractionHandle(interactionState, config.onPanResponderRelease, event, gestureState);
        PanResponder._initializeGestureState(gestureState);
      },
      onResponderStart: function onResponderStart(event) {
        var touchHistory = event.touchHistory;
        gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
        if (config.onPanResponderStart) {
          config.onPanResponderStart(event, gestureState);
        }
      },
      onResponderMove: function onResponderMove(event) {
        var touchHistory = event.touchHistory;
        if (gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp) {
          return;
        }
        PanResponder._updateGestureStateOnMove(gestureState, touchHistory);
        if (config.onPanResponderMove) {
          config.onPanResponderMove(event, gestureState);
        }
      },
      onResponderEnd: function onResponderEnd(event) {
        var touchHistory = event.touchHistory;
        gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
        clearInteractionHandle(interactionState, config.onPanResponderEnd, event, gestureState);
      },
      onResponderTerminate: function onResponderTerminate(event) {
        clearInteractionHandle(interactionState, config.onPanResponderTerminate, event, gestureState);
        PanResponder._initializeGestureState(gestureState);
      },
      onResponderTerminationRequest: function onResponderTerminationRequest(event) {
        return config.onPanResponderTerminationRequest == null ? true : config.onPanResponderTerminationRequest(event, gestureState);
      }
    };
    return {
      panHandlers: panHandlers,
      getInteractionHandle: function getInteractionHandle() {
        return interactionState.handle;
      }
    };
  }
};
function clearInteractionHandle(interactionState, callback, event, gestureState) {
  if (interactionState.handle) {
    InteractionManager.clearInteractionHandle(interactionState.handle);
    interactionState.handle = null;
  }
  if (callback) {
    callback(event, gestureState);
  }
}
module.exports = PanResponder;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbnRlcmFjdGlvbk1hbmFnZXIiLCJyZXF1aXJlIiwiVG91Y2hIaXN0b3J5TWF0aCIsImN1cnJlbnRDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJjdXJyZW50Q2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyIiwicHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJwcmV2aW91c0NlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlciIsImN1cnJlbnRDZW50cm9pZFgiLCJjdXJyZW50Q2VudHJvaWRZIiwiUGFuUmVzcG9uZGVyIiwiX2luaXRpYWxpemVHZXN0dXJlU3RhdGUiLCJnZXN0dXJlU3RhdGUiLCJtb3ZlWCIsIm1vdmVZIiwieDAiLCJ5MCIsImR4IiwiZHkiLCJ2eCIsInZ5IiwibnVtYmVyQWN0aXZlVG91Y2hlcyIsIl9hY2NvdW50c0Zvck1vdmVzVXBUbyIsIl91cGRhdGVHZXN0dXJlU3RhdGVPbk1vdmUiLCJ0b3VjaEhpc3RvcnkiLCJtb3ZlZEFmdGVyIiwicHJldlgiLCJ4IiwicHJldlkiLCJ5IiwibmV4dERYIiwibmV4dERZIiwiZHQiLCJtb3N0UmVjZW50VGltZVN0YW1wIiwiY3JlYXRlIiwiY29uZmlnIiwiaW50ZXJhY3Rpb25TdGF0ZSIsImhhbmRsZSIsInN0YXRlSUQiLCJNYXRoIiwicmFuZG9tIiwicGFuSGFuZGxlcnMiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwiZXZlbnQiLCJvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyIiwib25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyIiwib25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJuYXRpdmVFdmVudCIsInRvdWNoZXMiLCJsZW5ndGgiLCJvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZSIsIm9uTW92ZVNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlIiwib25SZXNwb25kZXJHcmFudCIsImNyZWF0ZUludGVyYWN0aW9uSGFuZGxlIiwib25QYW5SZXNwb25kZXJHcmFudCIsIm9uU2hvdWxkQmxvY2tOYXRpdmVSZXNwb25kZXIiLCJvblJlc3BvbmRlclJlamVjdCIsImNsZWFySW50ZXJhY3Rpb25IYW5kbGUiLCJvblBhblJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsIm9uUGFuUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyU3RhcnQiLCJvblBhblJlc3BvbmRlclN0YXJ0Iiwib25SZXNwb25kZXJNb3ZlIiwib25QYW5SZXNwb25kZXJNb3ZlIiwib25SZXNwb25kZXJFbmQiLCJvblBhblJlc3BvbmRlckVuZCIsIm9uUmVzcG9uZGVyVGVybWluYXRlIiwib25QYW5SZXNwb25kZXJUZXJtaW5hdGUiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uUGFuUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwiZ2V0SW50ZXJhY3Rpb25IYW5kbGUiLCJjYWxsYmFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJQYW5SZXNwb25kZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHlwZSB7UHJlc3NFdmVudH0gZnJvbSAnLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge1BhblJlc3BvbmRlclR5cGV9IGZyb20gJy4vUGFuUmVzcG9uZGVyLmZsb3cuanMnO1xuXG5jb25zdCBJbnRlcmFjdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uTWFuYWdlcicpO1xuY29uc3QgVG91Y2hIaXN0b3J5TWF0aCA9IHJlcXVpcmUoJy4vVG91Y2hIaXN0b3J5TWF0aCcpO1xuXG5jb25zdCBjdXJyZW50Q2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyID1cbiAgVG91Y2hIaXN0b3J5TWF0aC5jdXJyZW50Q2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyO1xuY29uc3QgY3VycmVudENlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlciA9XG4gIFRvdWNoSGlzdG9yeU1hdGguY3VycmVudENlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlcjtcbmNvbnN0IHByZXZpb3VzQ2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyID1cbiAgVG91Y2hIaXN0b3J5TWF0aC5wcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcjtcbmNvbnN0IHByZXZpb3VzQ2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyID1cbiAgVG91Y2hIaXN0b3J5TWF0aC5wcmV2aW91c0NlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlcjtcbmNvbnN0IGN1cnJlbnRDZW50cm9pZFggPSBUb3VjaEhpc3RvcnlNYXRoLmN1cnJlbnRDZW50cm9pZFg7XG5jb25zdCBjdXJyZW50Q2VudHJvaWRZID0gVG91Y2hIaXN0b3J5TWF0aC5jdXJyZW50Q2VudHJvaWRZO1xuXG4vKipcbiAqIGBQYW5SZXNwb25kZXJgIHJlY29uY2lsZXMgc2V2ZXJhbCB0b3VjaGVzIGludG8gYSBzaW5nbGUgZ2VzdHVyZS4gSXQgbWFrZXNcbiAqIHNpbmdsZS10b3VjaCBnZXN0dXJlcyByZXNpbGllbnQgdG8gZXh0cmEgdG91Y2hlcywgYW5kIGNhbiBiZSB1c2VkIHRvXG4gKiByZWNvZ25pemUgc2ltcGxlIG11bHRpLXRvdWNoIGdlc3R1cmVzLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQYW5SZXNwb25kZXJgIGhvbGRzIGFuIGBJbnRlcmFjdGlvbk1hbmFnZXJgIGhhbmRsZSB0byBibG9ja1xuICogbG9uZy1ydW5uaW5nIEpTIGV2ZW50cyBmcm9tIGludGVycnVwdGluZyBhY3RpdmUgZ2VzdHVyZXMuXG4gKlxuICogSXQgcHJvdmlkZXMgYSBwcmVkaWN0YWJsZSB3cmFwcGVyIG9mIHRoZSByZXNwb25kZXIgaGFuZGxlcnMgcHJvdmlkZWQgYnkgdGhlXG4gKiBbZ2VzdHVyZSByZXNwb25kZXIgc3lzdGVtXShkb2NzL2dlc3R1cmUtcmVzcG9uZGVyLXN5c3RlbS5odG1sKS5cbiAqIEZvciBlYWNoIGhhbmRsZXIsIGl0IHByb3ZpZGVzIGEgbmV3IGBnZXN0dXJlU3RhdGVgIG9iamVjdCBhbG9uZ3NpZGUgdGhlXG4gKiBuYXRpdmUgZXZlbnQgb2JqZWN0OlxuICpcbiAqIGBgYFxuICogb25QYW5SZXNwb25kZXJNb3ZlOiAoZXZlbnQsIGdlc3R1cmVTdGF0ZSkgPT4ge31cbiAqIGBgYFxuICpcbiAqIEEgbmF0aXZlIGV2ZW50IGlzIGEgc3ludGhldGljIHRvdWNoIGV2ZW50IHdpdGggdGhlIGZvbGxvd2luZyBmb3JtOlxuICpcbiAqICAtIGBuYXRpdmVFdmVudGBcbiAqICAgICAgKyBgY2hhbmdlZFRvdWNoZXNgIC0gQXJyYXkgb2YgYWxsIHRvdWNoIGV2ZW50cyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCBldmVudFxuICogICAgICArIGBpZGVudGlmaWVyYCAtIFRoZSBJRCBvZiB0aGUgdG91Y2hcbiAqICAgICAgKyBgbG9jYXRpb25YYCAtIFRoZSBYIHBvc2l0aW9uIG9mIHRoZSB0b3VjaCwgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnRcbiAqICAgICAgKyBgbG9jYXRpb25ZYCAtIFRoZSBZIHBvc2l0aW9uIG9mIHRoZSB0b3VjaCwgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnRcbiAqICAgICAgKyBgcGFnZVhgIC0gVGhlIFggcG9zaXRpb24gb2YgdGhlIHRvdWNoLCByZWxhdGl2ZSB0byB0aGUgcm9vdCBlbGVtZW50XG4gKiAgICAgICsgYHBhZ2VZYCAtIFRoZSBZIHBvc2l0aW9uIG9mIHRoZSB0b3VjaCwgcmVsYXRpdmUgdG8gdGhlIHJvb3QgZWxlbWVudFxuICogICAgICArIGB0YXJnZXRgIC0gVGhlIG5vZGUgaWQgb2YgdGhlIGVsZW1lbnQgcmVjZWl2aW5nIHRoZSB0b3VjaCBldmVudFxuICogICAgICArIGB0aW1lc3RhbXBgIC0gQSB0aW1lIGlkZW50aWZpZXIgZm9yIHRoZSB0b3VjaCwgdXNlZnVsIGZvciB2ZWxvY2l0eSBjYWxjdWxhdGlvblxuICogICAgICArIGB0b3VjaGVzYCAtIEFycmF5IG9mIGFsbCBjdXJyZW50IHRvdWNoZXMgb24gdGhlIHNjcmVlblxuICpcbiAqIEEgYGdlc3R1cmVTdGF0ZWAgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nOlxuICpcbiAqICAtIGBzdGF0ZUlEYCAtIElEIG9mIHRoZSBnZXN0dXJlU3RhdGUtIHBlcnNpc3RlZCBhcyBsb25nIGFzIHRoZXJlIGF0IGxlYXN0XG4gKiAgICAgb25lIHRvdWNoIG9uIHNjcmVlblxuICogIC0gYG1vdmVYYCAtIHRoZSBsYXRlc3Qgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZWNlbnRseS1tb3ZlZCB0b3VjaFxuICogIC0gYG1vdmVZYCAtIHRoZSBsYXRlc3Qgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZWNlbnRseS1tb3ZlZCB0b3VjaFxuICogIC0gYHgwYCAtIHRoZSBzY3JlZW4gY29vcmRpbmF0ZXMgb2YgdGhlIHJlc3BvbmRlciBncmFudFxuICogIC0gYHkwYCAtIHRoZSBzY3JlZW4gY29vcmRpbmF0ZXMgb2YgdGhlIHJlc3BvbmRlciBncmFudFxuICogIC0gYGR4YCAtIGFjY3VtdWxhdGVkIGRpc3RhbmNlIG9mIHRoZSBnZXN0dXJlIHNpbmNlIHRoZSB0b3VjaCBzdGFydGVkXG4gKiAgLSBgZHlgIC0gYWNjdW11bGF0ZWQgZGlzdGFuY2Ugb2YgdGhlIGdlc3R1cmUgc2luY2UgdGhlIHRvdWNoIHN0YXJ0ZWRcbiAqICAtIGB2eGAgLSBjdXJyZW50IHZlbG9jaXR5IG9mIHRoZSBnZXN0dXJlXG4gKiAgLSBgdnlgIC0gY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgZ2VzdHVyZVxuICogIC0gYG51bWJlckFjdGl2ZVRvdWNoZXNgIC0gTnVtYmVyIG9mIHRvdWNoZXMgY3VycmVudGx5IG9uIHNjcmVlblxuICpcbiAqICMjIyBCYXNpYyBVc2FnZVxuICpcbiAqIGBgYFxuICogICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICogICAgIHRoaXMuX3BhblJlc3BvbmRlciA9IFBhblJlc3BvbmRlci5jcmVhdGUoe1xuICogICAgICAgLy8gQXNrIHRvIGJlIHRoZSByZXNwb25kZXI6XG4gKiAgICAgICBvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyOiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHRydWUsXG4gKiAgICAgICBvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZTogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB0cnVlLFxuICogICAgICAgb25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyOiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHRydWUsXG4gKiAgICAgICBvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlOiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHRydWUsXG4gKlxuICogICAgICAgb25QYW5SZXNwb25kZXJHcmFudDogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB7XG4gKiAgICAgICAgIC8vIFRoZSBnZXN0dXJlIGhhcyBzdGFydGVkLiBTaG93IHZpc3VhbCBmZWVkYmFjayBzbyB0aGUgdXNlciBrbm93c1xuICogICAgICAgICAvLyB3aGF0IGlzIGhhcHBlbmluZyFcbiAqXG4gKiAgICAgICAgIC8vIGdlc3R1cmVTdGF0ZS5ke3gseX0gd2lsbCBiZSBzZXQgdG8gemVybyBub3dcbiAqICAgICAgIH0sXG4gKiAgICAgICBvblBhblJlc3BvbmRlck1vdmU6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4ge1xuICogICAgICAgICAvLyBUaGUgbW9zdCByZWNlbnQgbW92ZSBkaXN0YW5jZSBpcyBnZXN0dXJlU3RhdGUubW92ZXtYLFl9XG4gKlxuICogICAgICAgICAvLyBUaGUgYWNjdW11bGF0ZWQgZ2VzdHVyZSBkaXN0YW5jZSBzaW5jZSBiZWNvbWluZyByZXNwb25kZXIgaXNcbiAqICAgICAgICAgLy8gZ2VzdHVyZVN0YXRlLmR7eCx5fVxuICogICAgICAgfSxcbiAqICAgICAgIG9uUGFuUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHRydWUsXG4gKiAgICAgICBvblBhblJlc3BvbmRlclJlbGVhc2U6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4ge1xuICogICAgICAgICAvLyBUaGUgdXNlciBoYXMgcmVsZWFzZWQgYWxsIHRvdWNoZXMgd2hpbGUgdGhpcyB2aWV3IGlzIHRoZVxuICogICAgICAgICAvLyByZXNwb25kZXIuIFRoaXMgdHlwaWNhbGx5IG1lYW5zIGEgZ2VzdHVyZSBoYXMgc3VjY2VlZGVkXG4gKiAgICAgICB9LFxuICogICAgICAgb25QYW5SZXNwb25kZXJUZXJtaW5hdGU6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4ge1xuICogICAgICAgICAvLyBBbm90aGVyIGNvbXBvbmVudCBoYXMgYmVjb21lIHRoZSByZXNwb25kZXIsIHNvIHRoaXMgZ2VzdHVyZVxuICogICAgICAgICAvLyBzaG91bGQgYmUgY2FuY2VsbGVkXG4gKiAgICAgICB9LFxuICogICAgICAgb25TaG91bGRCbG9ja05hdGl2ZVJlc3BvbmRlcjogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB7XG4gKiAgICAgICAgIC8vIFJldHVybnMgd2hldGhlciB0aGlzIGNvbXBvbmVudCBzaG91bGQgYmxvY2sgbmF0aXZlIGNvbXBvbmVudHMgZnJvbSBiZWNvbWluZyB0aGUgSlNcbiAqICAgICAgICAgLy8gcmVzcG9uZGVyLiBSZXR1cm5zIHRydWUgYnkgZGVmYXVsdC4gSXMgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIG9uIGFuZHJvaWQuXG4gKiAgICAgICAgIHJldHVybiB0cnVlO1xuICogICAgICAgfSxcbiAqICAgICB9KTtcbiAqICAgfSxcbiAqXG4gKiAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgIDxWaWV3IHsuLi50aGlzLl9wYW5SZXNwb25kZXIucGFuSGFuZGxlcnN9IC8+XG4gKiAgICAgKTtcbiAqICAgfSxcbiAqXG4gKiBgYGBcbiAqXG4gKiAjIyMgV29ya2luZyBFeGFtcGxlXG4gKlxuICogVG8gc2VlIGl0IGluIGFjdGlvbiwgdHJ5IHRoZVxuICogW1BhblJlc3BvbmRlciBleGFtcGxlIGluIFJOVGVzdGVyXShodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2Jsb2IvSEVBRC9wYWNrYWdlcy9ybi10ZXN0ZXIvanMvZXhhbXBsZXMvUGFuUmVzcG9uZGVyL1BhblJlc3BvbmRlckV4YW1wbGUuanMpXG4gKi9cblxuZXhwb3J0IHR5cGUgR2VzdHVyZVN0YXRlID0ge3xcbiAgLyoqXG4gICAqIElEIG9mIHRoZSBnZXN0dXJlU3RhdGUgLSBwZXJzaXN0ZWQgYXMgbG9uZyBhcyB0aGVyZSBhdCBsZWFzdCBvbmUgdG91Y2ggb24gc2NyZWVuXG4gICAqL1xuICBzdGF0ZUlEOiBudW1iZXIsXG5cbiAgLyoqXG4gICAqIFRoZSBsYXRlc3Qgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZWNlbnRseS1tb3ZlZCB0b3VjaFxuICAgKi9cbiAgbW92ZVg6IG51bWJlcixcblxuICAvKipcbiAgICogVGhlIGxhdGVzdCBzY3JlZW4gY29vcmRpbmF0ZXMgb2YgdGhlIHJlY2VudGx5LW1vdmVkIHRvdWNoXG4gICAqL1xuICBtb3ZlWTogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBUaGUgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZXNwb25kZXIgZ3JhbnRcbiAgICovXG4gIHgwOiBudW1iZXIsXG5cbiAgLyoqXG4gICAqIFRoZSBzY3JlZW4gY29vcmRpbmF0ZXMgb2YgdGhlIHJlc3BvbmRlciBncmFudFxuICAgKi9cbiAgeTA6IG51bWJlcixcblxuICAvKipcbiAgICogQWNjdW11bGF0ZWQgZGlzdGFuY2Ugb2YgdGhlIGdlc3R1cmUgc2luY2UgdGhlIHRvdWNoIHN0YXJ0ZWRcbiAgICovXG4gIGR4OiBudW1iZXIsXG5cbiAgLyoqXG4gICAqIEFjY3VtdWxhdGVkIGRpc3RhbmNlIG9mIHRoZSBnZXN0dXJlIHNpbmNlIHRoZSB0b3VjaCBzdGFydGVkXG4gICAqL1xuICBkeTogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBDdXJyZW50IHZlbG9jaXR5IG9mIHRoZSBnZXN0dXJlXG4gICAqL1xuICB2eDogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBDdXJyZW50IHZlbG9jaXR5IG9mIHRoZSBnZXN0dXJlXG4gICAqL1xuICB2eTogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgdG91Y2hlcyBjdXJyZW50bHkgb24gc2NyZWVuXG4gICAqL1xuICBudW1iZXJBY3RpdmVUb3VjaGVzOiBudW1iZXIsXG5cbiAgLyoqXG4gICAqIEFsbCBgZ2VzdHVyZVN0YXRlYCBhY2NvdW50cyBmb3IgdGltZVN0YW1wcyB1cCB1bnRpbCB0aGlzIHZhbHVlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWNjb3VudHNGb3JNb3Zlc1VwVG86IG51bWJlcixcbnx9O1xuXG50eXBlIEFjdGl2ZUNhbGxiYWNrID0gKFxuICBldmVudDogUHJlc3NFdmVudCxcbiAgZ2VzdHVyZVN0YXRlOiBHZXN0dXJlU3RhdGUsXG4pID0+IGJvb2xlYW47XG5cbnR5cGUgUGFzc2l2ZUNhbGxiYWNrID0gKGV2ZW50OiBQcmVzc0V2ZW50LCBnZXN0dXJlU3RhdGU6IEdlc3R1cmVTdGF0ZSkgPT4gbWl4ZWQ7XG5cbnR5cGUgUGFuSGFuZGxlcnMgPSB7fFxuICBvbk1vdmVTaG91bGRTZXRSZXNwb25kZXI6IChldmVudDogUHJlc3NFdmVudCkgPT4gYm9vbGVhbixcbiAgb25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBib29sZWFuLFxuICBvblJlc3BvbmRlckVuZDogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlckdyYW50OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4sXG4gIG9uUmVzcG9uZGVyTW92ZTogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlclJlamVjdDogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlclJlbGVhc2U6IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25SZXNwb25kZXJTdGFydDogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlclRlcm1pbmF0ZTogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBib29sZWFuLFxuICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4sXG4gIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4sXG58fTtcblxudHlwZSBQYW5SZXNwb25kZXJDb25maWcgPSAkUmVhZE9ubHk8e3xcbiAgb25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyPzogP0FjdGl2ZUNhbGxiYWNrLFxuICBvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlPzogP0FjdGl2ZUNhbGxiYWNrLFxuICBvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyPzogP0FjdGl2ZUNhbGxiYWNrLFxuICBvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZT86ID9BY3RpdmVDYWxsYmFjayxcbiAgLyoqXG4gICAqIFRoZSBib2R5IG9mIGBvblJlc3BvbmRlckdyYW50YCByZXR1cm5zIGEgYm9vbCwgYnV0IHRoZSB2YXN0IG1ham9yaXR5IG9mXG4gICAqIGNhbGxzaXRlcyByZXR1cm4gdm9pZCBhbmQgdGhpcyBUT0RPIG5vdGljZSBpcyBmb3VuZCBpbiBpdDpcbiAgICogICBUT0RPOiB0NzQ2NzEyNCBpbnZlc3RpZ2F0ZSBpZiB0aGlzIGNhbiBiZSByZW1vdmVkXG4gICAqL1xuICBvblBhblJlc3BvbmRlckdyYW50PzogPyhQYXNzaXZlQ2FsbGJhY2sgfCBBY3RpdmVDYWxsYmFjayksXG4gIG9uUGFuUmVzcG9uZGVyUmVqZWN0PzogP1Bhc3NpdmVDYWxsYmFjayxcbiAgb25QYW5SZXNwb25kZXJTdGFydD86ID9QYXNzaXZlQ2FsbGJhY2ssXG4gIG9uUGFuUmVzcG9uZGVyRW5kPzogP1Bhc3NpdmVDYWxsYmFjayxcbiAgb25QYW5SZXNwb25kZXJSZWxlYXNlPzogP1Bhc3NpdmVDYWxsYmFjayxcbiAgb25QYW5SZXNwb25kZXJNb3ZlPzogP1Bhc3NpdmVDYWxsYmFjayxcbiAgb25QYW5SZXNwb25kZXJUZXJtaW5hdGU/OiA/UGFzc2l2ZUNhbGxiYWNrLFxuICBvblBhblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdD86ID9BY3RpdmVDYWxsYmFjayxcbiAgb25TaG91bGRCbG9ja05hdGl2ZVJlc3BvbmRlcj86ID9BY3RpdmVDYWxsYmFjayxcbnx9PjtcblxuY29uc3QgUGFuUmVzcG9uZGVyOiBQYW5SZXNwb25kZXJUeXBlID0ge1xuICAvKipcbiAgICpcbiAgICogQSBncmFwaGljYWwgZXhwbGFuYXRpb24gb2YgdGhlIHRvdWNoIGRhdGEgZmxvdzpcbiAgICpcbiAgICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICogfCBSZXNwb25kZXJUb3VjaEhpc3RvcnlTdG9yZSB8ICAgICAgICAgICAgIHxUb3VjaEhpc3RvcnlNYXRoICAgICAgICAgICAgICAgIHxcbiAgICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICstLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICogfEdsb2JhbCBzdG9yZSBvZiB0b3VjaEhpc3Rvcnl8ICAgICAgICAgICAgIHxBbGxvY2F0aW9uLWxlc3MgbWF0aCB1dGlsICAgICAgIHxcbiAgICogfGluY2x1ZGluZyBhY3RpdmVuZXNzLCBzdGFydCB8ICAgICAgICAgICAgIHxvbiB0b3VjaCBoaXN0b3J5IChjZW50cm9pZHMgICAgIHxcbiAgICogfHBvc2l0aW9uLCBwcmV2L2N1ciBwb3NpdGlvbi58ICAgICAgICAgICAgIHxhbmQgbXVsdGl0b3VjaCBtb3ZlbWVudCBldGMpICAgIHxcbiAgICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogKy0tLS1eLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICstLS0tXi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICogICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgIHwgKHJlY29yZHMgcmVsZXZhbnQgaGlzdG9yeSAgICAgICAgICAgICAgICB8XG4gICAqICAgICAgfCAgb2YgdG91Y2hlcyByZWxldmFudCBmb3IgICAgICAgICAgICAgICAgIHxcbiAgICogICAgICB8ICBpbXBsZW1lbnRpbmcgaGlnaGVyIGxldmVsICAgICAgICAgICAgICAgfFxuICAgKiAgICAgIHwgIGdlc3R1cmVzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogKy0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICstLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICogfCBSZXNwb25kZXJFdmVudFBsdWdpbiAgICAgICB8ICAgICAgICAgICAgIHwgICAgfCAgIFlvdXIgQXBwL0NvbXBvbmVudCAgICAgIHxcbiAgICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICstLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICogfE5lZ290aWF0ZXMgd2hpY2ggdmlldyBnZXRzICB8IExvdyBsZXZlbCAgIHwgICAgfCAgICAgICAgICAgICBIaWdoIGxldmVsICAgIHxcbiAgICogfG9uUmVzcG9uZGVyTW92ZSBldmVudHMuICAgICB8IGV2ZW50cyB3LyAgIHwgICstKy0tLS0tLS0rICAgICBldmVudHMgdy8gICAgIHxcbiAgICogfEFsc28gcmVjb3JkcyBoaXN0b3J5IGludG8gICB8IHRvdWNoSGlzdG9yeXwgIHwgICBQYW4gICB8ICAgICBtdWx0aXRvdWNoICsgIHxcbiAgICogfFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLiArLS0tLS0tLS0tLS0tLS0tLT5SZXNwb25kZXIrLS0tLS0+IGFjY3VtdWxhdGl2ZXxcbiAgICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIGF0dGFjaGVkIHRvIHwgIHwgICAgICAgICB8ICAgICBkaXN0YW5jZSBhbmQgIHxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGV2ZW50IHwgICstLS0tLS0tLS0rICAgICB2ZWxvY2l0eS4gICAgIHxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICpcbiAgICpcbiAgICpcbiAgICogR2VzdHVyZSB0aGF0IGNhbGN1bGF0ZXMgY3VtdWxhdGl2ZSBtb3ZlbWVudCBvdmVyIHRpbWUgaW4gYSB3YXkgdGhhdCBqdXN0XG4gICAqIFwiZG9lcyB0aGUgcmlnaHQgdGhpbmdcIiBmb3IgbXVsdGlwbGUgdG91Y2hlcy4gVGhlIFwicmlnaHQgdGhpbmdcIiBpcyB2ZXJ5XG4gICAqIG51YW5jZWQuIFdoZW4gbW92aW5nIHR3byB0b3VjaGVzIGluIG9wcG9zaXRlIGRpcmVjdGlvbnMsIHRoZSBjdW11bGF0aXZlXG4gICAqIGRpc3RhbmNlIGlzIHplcm8gaW4gZWFjaCBkaW1lbnNpb24uIFdoZW4gdHdvIHRvdWNoZXMgbW92ZSBpbiBwYXJhbGxlbCBmaXZlXG4gICAqIHBpeGVscyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24sIHRoZSBjdW11bGF0aXZlIGRpc3RhbmNlIGlzIGZpdmUsIG5vdCB0ZW4uIElmXG4gICAqIHR3byB0b3VjaGVzIHN0YXJ0LCBvbmUgbW92ZXMgZml2ZSBpbiBhIGRpcmVjdGlvbiwgdGhlbiBzdG9wcyBhbmQgdGhlIG90aGVyXG4gICAqIHRvdWNoIG1vdmVzIGZpdmVzIGluIHRoZSBzYW1lIGRpcmVjdGlvbiwgdGhlIGN1bXVsYXRpdmUgZGlzdGFuY2UgaXMgdGVuLlxuICAgKlxuICAgKiBUaGlzIGxvZ2ljIHJlcXVpcmVzIGEga2luZCBvZiBwcm9jZXNzaW5nIG9mIHRpbWUgXCJjbHVzdGVyc1wiIG9mIHRvdWNoIGV2ZW50c1xuICAgKiBzbyB0aGF0IHR3byB0b3VjaCBtb3ZlcyB0aGF0IGVzc2VudGlhbGx5IG9jY3VyIGluIHBhcmFsbGVsIGJ1dCBtb3ZlIGV2ZXJ5XG4gICAqIG90aGVyIGZyYW1lIHJlc3BlY3RpdmVseSwgYXJlIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgc2FtZSBtb3ZlbWVudC5cbiAgICpcbiAgICogRXhwbGFuYXRpb24gb2Ygc29tZSBvZiB0aGUgbm9uLW9idmlvdXMgZmllbGRzOlxuICAgKlxuICAgKiAtIG1vdmVYL21vdmVZOiBJZiBubyBtb3ZlIGV2ZW50IGhhcyBiZWVuIG9ic2VydmVkLCB0aGVuIGAobW92ZVgsIG1vdmVZKWAgaXNcbiAgICogICBpbnZhbGlkLiBJZiBhIG1vdmUgZXZlbnQgaGFzIGJlZW4gb2JzZXJ2ZWQsIGAobW92ZVgsIG1vdmVZKWAgaXMgdGhlXG4gICAqICAgY2VudHJvaWQgb2YgdGhlIG1vc3QgcmVjZW50bHkgbW92ZWQgXCJjbHVzdGVyXCIgb2YgYWN0aXZlIHRvdWNoZXMuXG4gICAqICAgKEN1cnJlbnRseSBhbGwgbW92ZSBoYXZlIHRoZSBzYW1lIHRpbWVTdGFtcCwgYnV0IGxhdGVyIHdlIHNob3VsZCBhZGQgc29tZVxuICAgKiAgIHRocmVzaG9sZCBmb3Igd2hhdCBpcyBjb25zaWRlcmVkIHRvIGJlIFwibW92aW5nXCIpLiBJZiBhIHBhbG0gaXNcbiAgICogICBhY2NpZGVudGFsbHkgY291bnRlZCBhcyBhIHRvdWNoLCBidXQgYSBmaW5nZXIgaXMgbW92aW5nIGdyZWF0bHksIHRoZSBwYWxtXG4gICAqICAgd2lsbCBtb3ZlIHNsaWdodGx5LCBidXQgd2Ugb25seSB3YW50IHRvIGNvdW50IHRoZSBzaW5nbGUgbW92aW5nIHRvdWNoLlxuICAgKiAtIHgwL3kwOiBDZW50cm9pZCBsb2NhdGlvbiAobm9uLWN1bXVsYXRpdmUpIGF0IHRoZSB0aW1lIG9mIGJlY29taW5nXG4gICAqICAgcmVzcG9uZGVyLlxuICAgKiAtIGR4L2R5OiBDdW11bGF0aXZlIHRvdWNoIGRpc3RhbmNlIC0gbm90IHRoZSBzYW1lIHRoaW5nIGFzIHN1bSBvZiBlYWNoIHRvdWNoXG4gICAqICAgZGlzdGFuY2UuIEFjY291bnRzIGZvciB0b3VjaCBtb3ZlcyB0aGF0IGFyZSBjbHVzdGVyZWQgdG9nZXRoZXIgaW4gdGltZSxcbiAgICogICBtb3ZpbmcgdGhlIHNhbWUgZGlyZWN0aW9uLiBPbmx5IHZhbGlkIHdoZW4gY3VycmVudGx5IHJlc3BvbmRlciAob3RoZXJ3aXNlLFxuICAgKiAgIGl0IG9ubHkgcmVwcmVzZW50cyB0aGUgZHJhZyBkaXN0YW5jZSBiZWxvdyB0aGUgdGhyZXNob2xkKS5cbiAgICogLSB2eC92eTogVmVsb2NpdHkuXG4gICAqL1xuXG4gIF9pbml0aWFsaXplR2VzdHVyZVN0YXRlKGdlc3R1cmVTdGF0ZTogR2VzdHVyZVN0YXRlKSB7XG4gICAgZ2VzdHVyZVN0YXRlLm1vdmVYID0gMDtcbiAgICBnZXN0dXJlU3RhdGUubW92ZVkgPSAwO1xuICAgIGdlc3R1cmVTdGF0ZS54MCA9IDA7XG4gICAgZ2VzdHVyZVN0YXRlLnkwID0gMDtcbiAgICBnZXN0dXJlU3RhdGUuZHggPSAwO1xuICAgIGdlc3R1cmVTdGF0ZS5keSA9IDA7XG4gICAgZ2VzdHVyZVN0YXRlLnZ4ID0gMDtcbiAgICBnZXN0dXJlU3RhdGUudnkgPSAwO1xuICAgIGdlc3R1cmVTdGF0ZS5udW1iZXJBY3RpdmVUb3VjaGVzID0gMDtcbiAgICAvLyBBbGwgYGdlc3R1cmVTdGF0ZWAgYWNjb3VudHMgZm9yIHRpbWVTdGFtcHMgdXAgdW50aWw6XG4gICAgZ2VzdHVyZVN0YXRlLl9hY2NvdW50c0Zvck1vdmVzVXBUbyA9IDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgbnVhbmNlZCBhbmQgaXMgbmVjZXNzYXJ5LiBJdCBpcyBpbmNvcnJlY3QgdG8gY29udGludW91c2x5IHRha2UgYWxsXG4gICAqIGFjdGl2ZSAqYW5kKiByZWNlbnRseSBtb3ZlZCB0b3VjaGVzLCBmaW5kIHRoZSBjZW50cm9pZCwgYW5kIHRyYWNrIGhvdyB0aGF0XG4gICAqIHJlc3VsdCBjaGFuZ2VzIG92ZXIgdGltZS4gSW5zdGVhZCwgd2UgbXVzdCB0YWtlIGFsbCByZWNlbnRseSBtb3ZlZFxuICAgKiB0b3VjaGVzLCBhbmQgY2FsY3VsYXRlIGhvdyB0aGUgY2VudHJvaWQgaGFzIGNoYW5nZWQganVzdCBmb3IgdGhvc2VcbiAgICogcmVjZW50bHkgbW92ZWQgdG91Y2hlcywgYW5kIGFwcGVuZCB0aGF0IGNoYW5nZSB0byBhbiBhY2N1bXVsYXRvci4gVGhpcyBpc1xuICAgKiB0byAoYXQgbGVhc3QpIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBpcyBtb3ZpbmcgdGhyZWUgZmluZ2VycywgYW5kXG4gICAqIHRoZW4gb25lIG9mIHRoZSBmaW5nZXJzIHN0b3BzIGJ1dCB0aGUgb3RoZXIgdHdvIGNvbnRpbnVlLlxuICAgKlxuICAgKiBUaGlzIGlzIHZlcnkgZGlmZmVyZW50IHRoYW4gdGFraW5nIGFsbCBvZiB0aGUgcmVjZW50bHkgbW92ZWQgdG91Y2hlcyBhbmRcbiAgICogc3RvcmluZyB0aGVpciBjZW50cm9pZCBhcyBgZHgvZHlgLiBGb3IgY29ycmVjdG5lc3MsIHdlIG11c3QgKmFjY3VtdWxhdGVcbiAgICogY2hhbmdlcyogaW4gdGhlIGNlbnRyb2lkIG9mIHJlY2VudGx5IG1vdmVkIHRvdWNoZXMuXG4gICAqXG4gICAqIFRoZXJlIGlzIGFsc28gc29tZSBudWFuY2Ugd2l0aCBob3cgd2UgaGFuZGxlIG11bHRpcGxlIG1vdmVkIHRvdWNoZXMgaW4gYVxuICAgKiBzaW5nbGUgZXZlbnQuIFdpdGggdGhlIHdheSBgUmVhY3ROYXRpdmVFdmVudEVtaXR0ZXJgIGRpc3BhdGNoZXMgdG91Y2hlcyBhc1xuICAgKiBpbmRpdmlkdWFsIGV2ZW50cywgbXVsdGlwbGUgdG91Y2hlcyBnZW5lcmF0ZSB0d28gJ21vdmUnIGV2ZW50cywgZWFjaCBvZlxuICAgKiB0aGVtIHRyaWdnZXJpbmcgYG9uUmVzcG9uZGVyTW92ZWAuIEJ1dCB3aXRoIHRoZSB3YXkgYFBhblJlc3BvbmRlcmAgd29ya3MsXG4gICAqIGFsbCBvZiB0aGUgZ2VzdHVyZSBpbmZlcmVuY2UgaXMgcGVyZm9ybWVkIG9uIHRoZSBmaXJzdCBkaXNwYXRjaCwgc2luY2UgaXRcbiAgICogbG9va3MgYXQgYWxsIG9mIHRoZSB0b3VjaGVzIChldmVuIHRoZSBvbmVzIGZvciB3aGljaCB0aGVyZSBoYXNuJ3QgYmVlbiBhXG4gICAqIG5hdGl2ZSBkaXNwYXRjaCB5ZXQpLiBUaGVyZWZvcmUsIGBQYW5SZXNwb25kZXJgIGRvZXMgbm90IGNhbGxcbiAgICogYG9uUmVzcG9uZGVyTW92ZWAgcGFzc2VkIHRoZSBmaXJzdCBkaXNwYXRjaC4gVGhpcyBkaXZlcmdlcyBmcm9tIHRoZVxuICAgKiB0eXBpY2FsIHJlc3BvbmRlciBjYWxsYmFjayBwYXR0ZXJuICh3aXRob3V0IHVzaW5nIGBQYW5SZXNwb25kZXJgKSwgYnV0XG4gICAqIGF2b2lkcyBtb3JlIGRpc3BhdGNoZXMgdGhhbiBuZWNlc3NhcnkuXG4gICAqL1xuICBfdXBkYXRlR2VzdHVyZVN0YXRlT25Nb3ZlKFxuICAgIGdlc3R1cmVTdGF0ZTogR2VzdHVyZVN0YXRlLFxuICAgIHRvdWNoSGlzdG9yeTogJFByb3BlcnR5VHlwZTxQcmVzc0V2ZW50LCAndG91Y2hIaXN0b3J5Jz4sXG4gICkge1xuICAgIGdlc3R1cmVTdGF0ZS5udW1iZXJBY3RpdmVUb3VjaGVzID0gdG91Y2hIaXN0b3J5Lm51bWJlckFjdGl2ZVRvdWNoZXM7XG4gICAgZ2VzdHVyZVN0YXRlLm1vdmVYID0gY3VycmVudENlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcihcbiAgICAgIHRvdWNoSGlzdG9yeSxcbiAgICAgIGdlc3R1cmVTdGF0ZS5fYWNjb3VudHNGb3JNb3Zlc1VwVG8sXG4gICAgKTtcbiAgICBnZXN0dXJlU3RhdGUubW92ZVkgPSBjdXJyZW50Q2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgZ2VzdHVyZVN0YXRlLl9hY2NvdW50c0Zvck1vdmVzVXBUbyxcbiAgICApO1xuICAgIGNvbnN0IG1vdmVkQWZ0ZXIgPSBnZXN0dXJlU3RhdGUuX2FjY291bnRzRm9yTW92ZXNVcFRvO1xuICAgIGNvbnN0IHByZXZYID0gcHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIoXG4gICAgICB0b3VjaEhpc3RvcnksXG4gICAgICBtb3ZlZEFmdGVyLFxuICAgICk7XG4gICAgY29uc3QgeCA9IGN1cnJlbnRDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIodG91Y2hIaXN0b3J5LCBtb3ZlZEFmdGVyKTtcbiAgICBjb25zdCBwcmV2WSA9IHByZXZpb3VzQ2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgbW92ZWRBZnRlcixcbiAgICApO1xuICAgIGNvbnN0IHkgPSBjdXJyZW50Q2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyKHRvdWNoSGlzdG9yeSwgbW92ZWRBZnRlcik7XG4gICAgY29uc3QgbmV4dERYID0gZ2VzdHVyZVN0YXRlLmR4ICsgKHggLSBwcmV2WCk7XG4gICAgY29uc3QgbmV4dERZID0gZ2VzdHVyZVN0YXRlLmR5ICsgKHkgLSBwcmV2WSk7XG5cbiAgICAvLyBUT0RPOiBUaGlzIG11c3QgYmUgZmlsdGVyZWQgaW50ZWxsaWdlbnRseS5cbiAgICBjb25zdCBkdCA9XG4gICAgICB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcCAtIGdlc3R1cmVTdGF0ZS5fYWNjb3VudHNGb3JNb3Zlc1VwVG87XG4gICAgZ2VzdHVyZVN0YXRlLnZ4ID0gKG5leHREWCAtIGdlc3R1cmVTdGF0ZS5keCkgLyBkdDtcbiAgICBnZXN0dXJlU3RhdGUudnkgPSAobmV4dERZIC0gZ2VzdHVyZVN0YXRlLmR5KSAvIGR0O1xuXG4gICAgZ2VzdHVyZVN0YXRlLmR4ID0gbmV4dERYO1xuICAgIGdlc3R1cmVTdGF0ZS5keSA9IG5leHREWTtcbiAgICBnZXN0dXJlU3RhdGUuX2FjY291bnRzRm9yTW92ZXNVcFRvID0gdG91Y2hIaXN0b3J5Lm1vc3RSZWNlbnRUaW1lU3RhbXA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgRW5oYW5jZWQgdmVyc2lvbnMgb2YgYWxsIG9mIHRoZSByZXNwb25kZXIgY2FsbGJhY2tzXG4gICAqIHRoYXQgcHJvdmlkZSBub3Qgb25seSB0aGUgdHlwaWNhbCBgUmVzcG9uZGVyU3ludGhldGljRXZlbnRgLCBidXQgYWxzbyB0aGVcbiAgICogYFBhblJlc3BvbmRlcmAgZ2VzdHVyZSBzdGF0ZS4gIFNpbXBseSByZXBsYWNlIHRoZSB3b3JkIGBSZXNwb25kZXJgIHdpdGhcbiAgICogYFBhblJlc3BvbmRlcmAgaW4gZWFjaCBvZiB0aGUgdHlwaWNhbCBgb25SZXNwb25kZXIqYCBjYWxsYmFja3MuIEZvclxuICAgKiBleGFtcGxlLCB0aGUgYGNvbmZpZ2Agb2JqZWN0IHdvdWxkIGxvb2sgbGlrZTpcbiAgICpcbiAgICogIC0gYG9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlcjogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlOiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICogIC0gYG9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXI6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25TdGFydFNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmU6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25QYW5SZXNwb25kZXJSZWplY3Q6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25QYW5SZXNwb25kZXJHcmFudDogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblBhblJlc3BvbmRlclN0YXJ0OiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICogIC0gYG9uUGFuUmVzcG9uZGVyRW5kOiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICogIC0gYG9uUGFuUmVzcG9uZGVyUmVsZWFzZTogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblBhblJlc3BvbmRlck1vdmU6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25QYW5SZXNwb25kZXJUZXJtaW5hdGU6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25QYW5SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25TaG91bGRCbG9ja05hdGl2ZVJlc3BvbmRlcjogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqXG4gICAqICBJbiBnZW5lcmFsLCBmb3IgZXZlbnRzIHRoYXQgaGF2ZSBjYXB0dXJlIGVxdWl2YWxlbnRzLCB3ZSB1cGRhdGUgdGhlXG4gICAqICBnZXN0dXJlU3RhdGUgb25jZSBpbiB0aGUgY2FwdHVyZSBwaGFzZSBhbmQgY2FuIHVzZSBpdCBpbiB0aGUgYnViYmxlIHBoYXNlXG4gICAqICBhcyB3ZWxsLlxuICAgKlxuICAgKiAgQmUgY2FyZWZ1bCB3aXRoIG9uU3RhcnRTaG91bGQqIGNhbGxiYWNrcy4gVGhleSBvbmx5IHJlZmxlY3QgdXBkYXRlZFxuICAgKiAgYGdlc3R1cmVTdGF0ZWAgZm9yIHN0YXJ0L2VuZCBldmVudHMgdGhhdCBidWJibGUvY2FwdHVyZSB0byB0aGUgTm9kZS5cbiAgICogIE9uY2UgdGhlIG5vZGUgaXMgdGhlIHJlc3BvbmRlciwgeW91IGNhbiByZWx5IG9uIGV2ZXJ5IHN0YXJ0L2VuZCBldmVudFxuICAgKiAgYmVpbmcgcHJvY2Vzc2VkIGJ5IHRoZSBnZXN0dXJlIGFuZCBgZ2VzdHVyZVN0YXRlYCBiZWluZyB1cGRhdGVkXG4gICAqICBhY2NvcmRpbmdseS4gKG51bWJlckFjdGl2ZVRvdWNoZXMpIG1heSBub3QgYmUgdG90YWxseSBhY2N1cmF0ZSB1bmxlc3MgeW91XG4gICAqICBhcmUgdGhlIHJlc3BvbmRlci5cbiAgICovXG4gIGNyZWF0ZShjb25maWc6IFBhblJlc3BvbmRlckNvbmZpZyk6ICRURU1QT1JBUlkkb2JqZWN0PHt8XG4gICAgZ2V0SW50ZXJhY3Rpb25IYW5kbGU6ICgpID0+ID9udW1iZXIsXG4gICAgcGFuSGFuZGxlcnM6IFBhbkhhbmRsZXJzLFxuICB8fT4ge1xuICAgIGNvbnN0IGludGVyYWN0aW9uU3RhdGUgPSB7XG4gICAgICBoYW5kbGU6IChudWxsOiA/bnVtYmVyKSxcbiAgICB9O1xuICAgIGNvbnN0IGdlc3R1cmVTdGF0ZTogR2VzdHVyZVN0YXRlID0ge1xuICAgICAgLy8gVXNlZnVsIGZvciBkZWJ1Z2dpbmdcbiAgICAgIHN0YXRlSUQ6IE1hdGgucmFuZG9tKCksXG4gICAgICBtb3ZlWDogMCxcbiAgICAgIG1vdmVZOiAwLFxuICAgICAgeDA6IDAsXG4gICAgICB5MDogMCxcbiAgICAgIGR4OiAwLFxuICAgICAgZHk6IDAsXG4gICAgICB2eDogMCxcbiAgICAgIHZ5OiAwLFxuICAgICAgbnVtYmVyQWN0aXZlVG91Y2hlczogMCxcbiAgICAgIF9hY2NvdW50c0Zvck1vdmVzVXBUbzogMCxcbiAgICB9O1xuICAgIGNvbnN0IHBhbkhhbmRsZXJzID0ge1xuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcihldmVudDogUHJlc3NFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLm9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXIgPT0gbnVsbFxuICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICA6IGNvbmZpZy5vblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyKGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgfSxcbiAgICAgIG9uTW92ZVNob3VsZFNldFJlc3BvbmRlcihldmVudDogUHJlc3NFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLm9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlciA9PSBudWxsXG4gICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgIDogY29uZmlnLm9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlcihldmVudCwgZ2VzdHVyZVN0YXRlKTtcbiAgICAgIH0sXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZShldmVudDogUHJlc3NFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBUT0RPOiBBY3R1YWxseSwgd2Ugc2hvdWxkIHJlaW5pdGlhbGl6ZSB0aGUgc3RhdGUgYW55IHRpbWVcbiAgICAgICAgLy8gdG91Y2hlcy5sZW5ndGggaW5jcmVhc2VzIGZyb20gMCBhY3RpdmUgdG8gPiAwIGFjdGl2ZS5cbiAgICAgICAgaWYgKGV2ZW50Lm5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgUGFuUmVzcG9uZGVyLl9pbml0aWFsaXplR2VzdHVyZVN0YXRlKGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2VzdHVyZVN0YXRlLm51bWJlckFjdGl2ZVRvdWNoZXMgPVxuICAgICAgICAgIGV2ZW50LnRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzO1xuICAgICAgICByZXR1cm4gY29uZmlnLm9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlICE9IG51bGxcbiAgICAgICAgICA/IGNvbmZpZy5vblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZShldmVudCwgZ2VzdHVyZVN0YXRlKVxuICAgICAgICAgIDogZmFsc2U7XG4gICAgICB9LFxuXG4gICAgICBvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlKGV2ZW50OiBQcmVzc0V2ZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHRvdWNoSGlzdG9yeSA9IGV2ZW50LnRvdWNoSGlzdG9yeTtcbiAgICAgICAgLy8gUmVzcG9uZGVyIHN5c3RlbSBpbmNvcnJlY3RseSBkaXNwYXRjaGVzIHNob3VsZCogdG8gY3VycmVudCByZXNwb25kZXJcbiAgICAgICAgLy8gRmlsdGVyIG91dCBhbnkgdG91Y2ggbW92ZXMgcGFzdCB0aGUgZmlyc3Qgb25lIC0gd2Ugd291bGQgaGF2ZVxuICAgICAgICAvLyBhbHJlYWR5IHByb2Nlc3NlZCBtdWx0aS10b3VjaCBnZW9tZXRyeSBkdXJpbmcgdGhlIGZpcnN0IGV2ZW50LlxuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2VzdHVyZVN0YXRlLl9hY2NvdW50c0Zvck1vdmVzVXBUbyA9PT1cbiAgICAgICAgICB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgUGFuUmVzcG9uZGVyLl91cGRhdGVHZXN0dXJlU3RhdGVPbk1vdmUoZ2VzdHVyZVN0YXRlLCB0b3VjaEhpc3RvcnkpO1xuICAgICAgICByZXR1cm4gY29uZmlnLm9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmVcbiAgICAgICAgICA/IGNvbmZpZy5vbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlKGV2ZW50LCBnZXN0dXJlU3RhdGUpXG4gICAgICAgICAgOiBmYWxzZTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQoZXZlbnQ6IFByZXNzRXZlbnQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFpbnRlcmFjdGlvblN0YXRlLmhhbmRsZSkge1xuICAgICAgICAgIGludGVyYWN0aW9uU3RhdGUuaGFuZGxlID1cbiAgICAgICAgICAgIEludGVyYWN0aW9uTWFuYWdlci5jcmVhdGVJbnRlcmFjdGlvbkhhbmRsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGdlc3R1cmVTdGF0ZS54MCA9IGN1cnJlbnRDZW50cm9pZFgoZXZlbnQudG91Y2hIaXN0b3J5KTtcbiAgICAgICAgZ2VzdHVyZVN0YXRlLnkwID0gY3VycmVudENlbnRyb2lkWShldmVudC50b3VjaEhpc3RvcnkpO1xuICAgICAgICBnZXN0dXJlU3RhdGUuZHggPSAwO1xuICAgICAgICBnZXN0dXJlU3RhdGUuZHkgPSAwO1xuICAgICAgICBpZiAoY29uZmlnLm9uUGFuUmVzcG9uZGVyR3JhbnQpIHtcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJHcmFudChldmVudCwgZ2VzdHVyZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiB0NzQ2NzEyNCBpbnZlc3RpZ2F0ZSBpZiB0aGlzIGNhbiBiZSByZW1vdmVkXG4gICAgICAgIHJldHVybiBjb25maWcub25TaG91bGRCbG9ja05hdGl2ZVJlc3BvbmRlciA9PSBudWxsXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBjb25maWcub25TaG91bGRCbG9ja05hdGl2ZVJlc3BvbmRlcihldmVudCwgZ2VzdHVyZVN0YXRlKTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0KGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGNsZWFySW50ZXJhY3Rpb25IYW5kbGUoXG4gICAgICAgICAgaW50ZXJhY3Rpb25TdGF0ZSxcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJSZWplY3QsXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgZ2VzdHVyZVN0YXRlLFxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGNsZWFySW50ZXJhY3Rpb25IYW5kbGUoXG4gICAgICAgICAgaW50ZXJhY3Rpb25TdGF0ZSxcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJSZWxlYXNlLFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIGdlc3R1cmVTdGF0ZSxcbiAgICAgICAgKTtcbiAgICAgICAgUGFuUmVzcG9uZGVyLl9pbml0aWFsaXplR2VzdHVyZVN0YXRlKGdlc3R1cmVTdGF0ZSk7XG4gICAgICB9LFxuXG4gICAgICBvblJlc3BvbmRlclN0YXJ0KGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRvdWNoSGlzdG9yeSA9IGV2ZW50LnRvdWNoSGlzdG9yeTtcbiAgICAgICAgZ2VzdHVyZVN0YXRlLm51bWJlckFjdGl2ZVRvdWNoZXMgPSB0b3VjaEhpc3RvcnkubnVtYmVyQWN0aXZlVG91Y2hlcztcbiAgICAgICAgaWYgKGNvbmZpZy5vblBhblJlc3BvbmRlclN0YXJ0KSB7XG4gICAgICAgICAgY29uZmlnLm9uUGFuUmVzcG9uZGVyU3RhcnQoZXZlbnQsIGdlc3R1cmVTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyTW92ZShldmVudDogUHJlc3NFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCB0b3VjaEhpc3RvcnkgPSBldmVudC50b3VjaEhpc3Rvcnk7XG4gICAgICAgIC8vIEd1YXJkIGFnYWluc3QgdGhlIGRpc3BhdGNoIG9mIHR3byB0b3VjaCBtb3ZlcyB3aGVuIHRoZXJlIGFyZSB0d29cbiAgICAgICAgLy8gc2ltdWx0YW5lb3VzbHkgY2hhbmdlZCB0b3VjaGVzLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2VzdHVyZVN0YXRlLl9hY2NvdW50c0Zvck1vdmVzVXBUbyA9PT1cbiAgICAgICAgICB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlsdGVyIG91dCBhbnkgdG91Y2ggbW92ZXMgcGFzdCB0aGUgZmlyc3Qgb25lIC0gd2Ugd291bGQgaGF2ZVxuICAgICAgICAvLyBhbHJlYWR5IHByb2Nlc3NlZCBtdWx0aS10b3VjaCBnZW9tZXRyeSBkdXJpbmcgdGhlIGZpcnN0IGV2ZW50LlxuICAgICAgICBQYW5SZXNwb25kZXIuX3VwZGF0ZUdlc3R1cmVTdGF0ZU9uTW92ZShnZXN0dXJlU3RhdGUsIHRvdWNoSGlzdG9yeSk7XG4gICAgICAgIGlmIChjb25maWcub25QYW5SZXNwb25kZXJNb3ZlKSB7XG4gICAgICAgICAgY29uZmlnLm9uUGFuUmVzcG9uZGVyTW92ZShldmVudCwgZ2VzdHVyZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJFbmQoZXZlbnQ6IFByZXNzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdG91Y2hIaXN0b3J5ID0gZXZlbnQudG91Y2hIaXN0b3J5O1xuICAgICAgICBnZXN0dXJlU3RhdGUubnVtYmVyQWN0aXZlVG91Y2hlcyA9IHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzO1xuICAgICAgICBjbGVhckludGVyYWN0aW9uSGFuZGxlKFxuICAgICAgICAgIGludGVyYWN0aW9uU3RhdGUsXG4gICAgICAgICAgY29uZmlnLm9uUGFuUmVzcG9uZGVyRW5kLFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIGdlc3R1cmVTdGF0ZSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRlKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGNsZWFySW50ZXJhY3Rpb25IYW5kbGUoXG4gICAgICAgICAgaW50ZXJhY3Rpb25TdGF0ZSxcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJUZXJtaW5hdGUsXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgZ2VzdHVyZVN0YXRlLFxuICAgICAgICApO1xuICAgICAgICBQYW5SZXNwb25kZXIuX2luaXRpYWxpemVHZXN0dXJlU3RhdGUoZ2VzdHVyZVN0YXRlKTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0KGV2ZW50OiBQcmVzc0V2ZW50KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcub25QYW5SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QgPT0gbnVsbFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogY29uZmlnLm9uUGFuUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0KGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBwYW5IYW5kbGVycyxcbiAgICAgIGdldEludGVyYWN0aW9uSGFuZGxlKCk6ID9udW1iZXIge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25TdGF0ZS5oYW5kbGU7XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjbGVhckludGVyYWN0aW9uSGFuZGxlKFxuICBpbnRlcmFjdGlvblN0YXRlOiB7aGFuZGxlOiA/bnVtYmVyLCAuLi59LFxuICBjYWxsYmFjazogPyhBY3RpdmVDYWxsYmFjayB8IFBhc3NpdmVDYWxsYmFjayksXG4gIGV2ZW50OiBQcmVzc0V2ZW50LFxuICBnZXN0dXJlU3RhdGU6IEdlc3R1cmVTdGF0ZSxcbikge1xuICBpZiAoaW50ZXJhY3Rpb25TdGF0ZS5oYW5kbGUpIHtcbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIuY2xlYXJJbnRlcmFjdGlvbkhhbmRsZShpbnRlcmFjdGlvblN0YXRlLmhhbmRsZSk7XG4gICAgaW50ZXJhY3Rpb25TdGF0ZS5oYW5kbGUgPSBudWxsO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhblJlc3BvbmRlckluc3RhbmNlID0gJENhbGw8XG4gICRQcm9wZXJ0eVR5cGU8dHlwZW9mIFBhblJlc3BvbmRlciwgJ2NyZWF0ZSc+LFxuICBQYW5SZXNwb25kZXJDb25maWcsXG4+O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhblJlc3BvbmRlcjtcbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFLWixJQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQzFELElBQU1DLGdCQUFnQixHQUFHRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFFdEQsSUFBTUUscUNBQXFDLEdBQ3pDRCxn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