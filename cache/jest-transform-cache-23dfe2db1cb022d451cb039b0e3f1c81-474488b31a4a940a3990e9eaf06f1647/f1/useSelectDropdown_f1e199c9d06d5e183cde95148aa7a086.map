{"version":3,"names":["_react","require","_deepSearchInArr","_findIndexInArr","_isExist","useSelectDropdown","data","defaultValueByIndex","defaultValue","disabledInternalSearch","_useState","useState","_useState2","_slicedToArray2","default","selectedItem","setSelectedItem","_useState3","_useState4","selectedIndex","setSelectedIndex","_useState5","_useState6","searchTxt","setSearchTxt","useEffect","length","reset","isExist","selectItem","findIndexInArr","dataArr","useMemo","deepSearchInArr","index","exports"],"sources":["useSelectDropdown.js"],"sourcesContent":["import {useState, useEffect, useMemo} from 'react';\nimport {deepSearchInArr} from '../helpers/deepSearchInArr';\nimport {findIndexInArr} from '../helpers/findIndexInArr';\nimport {isExist} from '../helpers/isExist';\n\nexport const useSelectDropdown = (data, defaultValueByIndex, defaultValue, disabledInternalSearch) => {\n  const [selectedItem, setSelectedItem] = useState(null); // selected item from dropdown\n  const [selectedIndex, setSelectedIndex] = useState(-1); // index of selected item from dropdown\n  const [searchTxt, setSearchTxt] = useState('');\n\n  // data array changes\n  useEffect(() => {\n    if (!data || data.length == 0) {\n      reset();\n    }\n  }, [data]);\n\n  // default value by index added or changed\n  useEffect(() => {\n    // defaultValueByIndex may be equals zero\n    if (isExist(defaultValueByIndex)) {\n      if (data && isExist(data[defaultValueByIndex])) {\n        selectItem(defaultValueByIndex);\n      }\n    }\n  }, [defaultValueByIndex]);\n  // default value added or changed\n  useEffect(() => {\n    // defaultValue may be equals zero\n    if (isExist(defaultValue)) {\n      if (data && findIndexInArr(defaultValue, data) >= 0) {\n        selectItem(findIndexInArr(defaultValue, data));\n      }\n    }\n  }, [defaultValue]);\n\n  const dataArr = useMemo(() => {\n    if (disabledInternalSearch) {\n      return data;\n    }\n    return searchTxt ? deepSearchInArr(searchTxt, data) : data;\n  }, [data, searchTxt]);\n\n  const selectItem = index => {\n    setSelectedItem(data[index]);\n    setSelectedIndex(index);\n  };\n\n  const reset = () => {\n    setSelectedItem(null);\n    setSelectedIndex(-1);\n  };\n\n  return {\n    dataArr,\n    selectedItem,\n    selectedIndex,\n    selectItem,\n    reset,\n    searchTxt,\n    setSearchTxt,\n  };\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAD,OAAA;AACA,IAAAE,eAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAEO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,IAAI,EAAEC,mBAAmB,EAAEC,YAAY,EAAEC,sBAAsB,EAAK;EACpG,IAAAC,SAAA,GAAwC,IAAAC,eAAQ,EAAC,IAAI,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,SAAA;IAA/CK,YAAY,GAAAH,UAAA;IAAEI,eAAe,GAAAJ,UAAA;EACpC,IAAAK,UAAA,GAA0C,IAAAN,eAAQ,EAAC,CAAC,CAAC,CAAC;IAAAO,UAAA,OAAAL,eAAA,CAAAC,OAAA,EAAAG,UAAA;IAA/CE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAAG,UAAA,GAAkC,IAAAV,eAAQ,EAAC,EAAE,CAAC;IAAAW,UAAA,OAAAT,eAAA,CAAAC,OAAA,EAAAO,UAAA;IAAvCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAG9B,IAAAG,gBAAS,EAAC,YAAM;IACd,IAAI,CAACnB,IAAI,IAAIA,IAAI,CAACoB,MAAM,IAAI,CAAC,EAAE;MAC7BC,KAAK,EAAE;IACT;EACF,CAAC,EAAE,CAACrB,IAAI,CAAC,CAAC;EAGV,IAAAmB,gBAAS,EAAC,YAAM;IAEd,IAAI,IAAAG,gBAAO,EAACrB,mBAAmB,CAAC,EAAE;MAChC,IAAID,IAAI,IAAI,IAAAsB,gBAAO,EAACtB,IAAI,CAACC,mBAAmB,CAAC,CAAC,EAAE;QAC9CsB,UAAU,CAACtB,mBAAmB,CAAC;MACjC;IACF;EACF,CAAC,EAAE,CAACA,mBAAmB,CAAC,CAAC;EAEzB,IAAAkB,gBAAS,EAAC,YAAM;IAEd,IAAI,IAAAG,gBAAO,EAACpB,YAAY,CAAC,EAAE;MACzB,IAAIF,IAAI,IAAI,IAAAwB,8BAAc,EAACtB,YAAY,EAAEF,IAAI,CAAC,IAAI,CAAC,EAAE;QACnDuB,UAAU,CAAC,IAAAC,8BAAc,EAACtB,YAAY,EAAEF,IAAI,CAAC,CAAC;MAChD;IACF;EACF,CAAC,EAAE,CAACE,YAAY,CAAC,CAAC;EAElB,IAAMuB,OAAO,GAAG,IAAAC,cAAO,EAAC,YAAM;IAC5B,IAAIvB,sBAAsB,EAAE;MAC1B,OAAOH,IAAI;IACb;IACA,OAAOiB,SAAS,GAAG,IAAAU,gCAAe,EAACV,SAAS,EAAEjB,IAAI,CAAC,GAAGA,IAAI;EAC5D,CAAC,EAAE,CAACA,IAAI,EAAEiB,SAAS,CAAC,CAAC;EAErB,IAAMM,UAAU,GAAG,SAAbA,UAAUA,CAAGK,KAAK,EAAI;IAC1BlB,eAAe,CAACV,IAAI,CAAC4B,KAAK,CAAC,CAAC;IAC5Bd,gBAAgB,CAACc,KAAK,CAAC;EACzB,CAAC;EAED,IAAMP,KAAK,GAAG,SAARA,KAAKA,CAAA,EAAS;IAClBX,eAAe,CAAC,IAAI,CAAC;IACrBI,gBAAgB,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,OAAO;IACLW,OAAO,EAAPA,OAAO;IACPhB,YAAY,EAAZA,YAAY;IACZI,aAAa,EAAbA,aAAa;IACbU,UAAU,EAAVA,UAAU;IACVF,KAAK,EAALA,KAAK;IACLJ,SAAS,EAATA,SAAS;IACTC,YAAY,EAAZA;EACF,CAAC;AACH,CAAC;AAACW,OAAA,CAAA9B,iBAAA,GAAAA,iBAAA"}