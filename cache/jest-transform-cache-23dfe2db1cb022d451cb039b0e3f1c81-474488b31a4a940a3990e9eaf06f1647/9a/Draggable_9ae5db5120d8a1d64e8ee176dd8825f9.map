{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_propTypes","_jsxRuntime","clamp","number","min","max","Math","Draggable","props","renderText","isCircle","renderSize","imageSource","renderColor","children","shouldReverse","onReverse","disabled","debug","animatedViewProps","touchableOpacityProps","onDrag","onShortPressRelease","onDragRelease","onLongPress","onPressIn","onPressOut","onRelease","x","y","z","minX","minY","maxX","maxY","pan","React","useRef","Animated","ValueXY","offsetFromStart","childSize","startBounds","isDragging","getBounds","useCallback","left","current","top","right","bottom","shouldStartDrag","gs","abs","dx","dy","reversePosition","originalOffset","newOffset","spring","toValue","useNativeDriver","start","onPanResponderRelease","e","gestureState","flattenOffset","onPanResponderGrant","setOffset","setValue","handleOnDrag","_startBounds$current","far","changeX","Number","isFinite","changeY","panResponder","useMemo","PanResponder","create","onMoveShouldSetPanResponder","_","onMoveShouldSetPanResponderCapture","onPanResponderMove","event","listener","useEffect","curPan","addListener","c","removeAllListeners","positionCss","Window","Dimensions","get","position","width","height","dragItemCss","style","elevation","zIndex","backgroundColor","borderRadius","Object","assign","alignSelf","justifyContent","touchableContent","jsx","Image","source","Text","styles","text","handleOnLayout","_event$nativeEvent$la","nativeEvent","layout","handlePressOut","getDebugView","_Dimensions$get","constrained","View","pointerEvents","debugView","jsxs","panHandlers","getLayout","TouchableOpacity","onLayout","onPress","defaultProps","propTypes","PropTypes","string","bool","element","object","func","StyleSheet","color","textAlign","test","borderColor","borderWidth"],"sources":["Draggable.js"],"sourcesContent":["/**\n *\t* https://github.com/tongyy/react-native-draggable\n *\n */\n\nimport React from 'react';\nimport {\n  View,\n  Text,\n  Image,\n  PanResponder,\n  Animated,\n  Dimensions,\n  TouchableOpacity,\n  StyleSheet,\n} from 'react-native';\nimport PropTypes from 'prop-types';\n\nfunction clamp(number, min, max) {\n  return Math.max(min, Math.min(number, max));\n}\n\nexport default function Draggable(props) {\n  const {\n    renderText,\n    isCircle,\n    renderSize,\n    imageSource,\n    renderColor,\n    children,\n    shouldReverse,\n    onReverse,\n    disabled,\n    debug,\n    animatedViewProps,\n    touchableOpacityProps,\n    onDrag,\n    onShortPressRelease,\n    onDragRelease,\n    onLongPress,\n    onPressIn,\n    onPressOut,\n    onRelease,\n    x,\n    y,\n    z,\n    minX,\n    minY,\n    maxX,\n    maxY,\n  } = props;\n\n  // The Animated object housing our xy value so that we can spring back\n  const pan = React.useRef(new Animated.ValueXY());\n  // Always set to xy value of pan, would like to remove\n  const offsetFromStart = React.useRef({x: 0, y: 0});\n  // Width/Height of Draggable (renderSize is arbitrary if children are passed in)\n  const childSize = React.useRef({x: renderSize, y: renderSize});\n  // Top/Left/Right/Bottom location on screen from start of most recent touch\n  const startBounds = React.useRef();\n  // Whether we're currently dragging or not\n  const isDragging = React.useRef(false);\n\n  const getBounds = React.useCallback(() => {\n    const left = x + offsetFromStart.current.x;\n    const top = y + offsetFromStart.current.y;\n    return {\n      left,\n      top,\n      right: left + childSize.current.x,\n      bottom: top + childSize.current.y,\n    };\n  }, [x, y]);\n\n  const shouldStartDrag = React.useCallback(\n    (gs) => {\n      return !disabled && (Math.abs(gs.dx) > 2 || Math.abs(gs.dy) > 2);\n    },\n    [disabled],\n  );\n\n  const reversePosition = React.useCallback(() => {\n    const originalOffset = {x: 0, y: 0};\n    const newOffset = onReverse ? onReverse() : originalOffset;\n    Animated.spring(pan.current, {\n      toValue: newOffset || originalOffset,\n      useNativeDriver: false,\n    }).start();\n\n  }, [pan]);\n\n  const onPanResponderRelease = React.useCallback(\n    (e, gestureState) => {\n      isDragging.current = false;\n      if (onDragRelease) {\n        onDragRelease(e, gestureState, getBounds());\n        onRelease(e, true);\n      }\n      if (!shouldReverse) {\n        pan.current.flattenOffset();\n      } else {\n        reversePosition();\n      }\n    },\n    [onDragRelease, shouldReverse, onRelease, reversePosition, getBounds],\n  );\n\n  const onPanResponderGrant = React.useCallback(\n    (e, gestureState) => {\n      startBounds.current = getBounds();\n      isDragging.current = true;\n      if (!shouldReverse) {\n        pan.current.setOffset(offsetFromStart.current);\n        pan.current.setValue({x: 0, y: 0});\n      }\n    },\n    [getBounds, shouldReverse],\n  );\n\n  const handleOnDrag = React.useCallback(\n    (e, gestureState) => {\n      const {dx, dy} = gestureState;\n      const {top, right, left, bottom} = startBounds.current;\n      const far = 999999999;\n      const changeX = clamp(\n        dx,\n        Number.isFinite(minX) ? minX - left : -far,\n        Number.isFinite(maxX) ? maxX - right : far,\n      );\n      const changeY = clamp(\n        dy,\n        Number.isFinite(minY) ? minY - top : -far,\n        Number.isFinite(maxY) ? maxY - bottom : far,\n      );\n      pan.current.setValue({x: changeX, y: changeY});\n      onDrag(e, gestureState);\n    },\n    [maxX, maxY, minX, minY, onDrag],\n  );\n\n  const panResponder = React.useMemo(() => {\n    return PanResponder.create({\n      onMoveShouldSetPanResponder: (_, gestureState) =>\n        shouldStartDrag(gestureState),\n      onMoveShouldSetPanResponderCapture: (_, gestureState) =>\n        shouldStartDrag(gestureState),\n      onPanResponderGrant,\n      onPanResponderMove: Animated.event([], {\n        listener: handleOnDrag,\n        useNativeDriver: false,\n      }),\n      onPanResponderRelease,\n    });\n  }, [\n    handleOnDrag,\n    onPanResponderGrant,\n    onPanResponderRelease,\n    shouldStartDrag,\n  ]);\n\n  // TODO Figure out a way to destroy and remove offsetFromStart entirely\n  React.useEffect(() => {\n    const curPan = pan.current; // Using an instance to avoid losing the pointer before the cleanup\n    if (!shouldReverse) {\n      curPan.addListener((c) => (offsetFromStart.current = c));\n    } else {\n        reversePosition();\n    }\n    return () => {\n      curPan.removeAllListeners();\n    };\n  }, [shouldReverse]);\n  \n  const positionCss = React.useMemo(() => {\n    const Window = Dimensions.get('window');\n    return {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: Window.width,\n      height: Window.height,\n    };\n  }, []);\n\n  const dragItemCss = React.useMemo(() => {\n    const style = {\n      top: y,\n      left: x,\n      elevation: z,\n      zIndex: z,\n    };\n    if (renderColor) {\n      style.backgroundColor = renderColor;\n    }\n    if (isCircle) {\n      style.borderRadius = renderSize;\n    }\n\n    if (children) {\n      return {\n        ...style,\n        alignSelf: 'baseline',\n      };\n    }\n    return {\n      ...style,\n      justifyContent: 'center',\n      width: renderSize,\n      height: renderSize,\n    };\n  }, [children, isCircle, renderColor, renderSize, x, y, z]);\n\n  const touchableContent = React.useMemo(() => {\n    if (children) {\n      return children;\n    } else if (imageSource) {\n      return (\n        <Image\n          style={{width: renderSize, height: renderSize}}\n          source={imageSource}\n        />\n      );\n    } else {\n      return <Text style={styles.text}>{renderText}</Text>;\n    }\n  }, [children, imageSource, renderSize, renderText]);\n\n  const handleOnLayout = React.useCallback((event) => {\n    const {height, width} = event.nativeEvent.layout;\n    childSize.current = {x: width, y: height};\n  }, []);\n\n  const handlePressOut = React.useCallback(\n    (event) => {\n      onPressOut(event);\n      if (!isDragging.current) {\n        onRelease(event, false);\n      }\n    },\n    [onPressOut, onRelease],\n  );\n\n  const getDebugView = React.useCallback(() => {\n    const {width, height} = Dimensions.get('window');\n    const far = 9999;\n    const constrained = minX || maxX || minY || maxY;\n    if (!constrained) {\n      return null;\n    } // could show other debug info here\n    const left = minX || -far;\n    const right = maxX ? width - maxX : -far;\n    const top = minY || -far;\n    const bottom = maxY ? height - maxY : -far;\n    return (\n      <View\n        pointerEvents=\"box-none\"\n        style={{left, right, top, bottom, ...styles.debugView}}\n      />\n    );\n  }, [maxX, maxY, minX, minY]);\n\n  return (\n    <View pointerEvents=\"box-none\" style={positionCss}>\n      {debug && getDebugView()}\n      <Animated.View\n        pointerEvents=\"box-none\"\n        {...animatedViewProps}\n        {...panResponder.panHandlers}\n        style={pan.current.getLayout()}>\n        <TouchableOpacity\n          {...touchableOpacityProps}\n          onLayout={handleOnLayout}\n          style={dragItemCss}\n          disabled={disabled}\n          onPress={onShortPressRelease}\n          onLongPress={onLongPress}\n          onPressIn={onPressIn}\n          onPressOut={handlePressOut}>\n          {touchableContent}\n        </TouchableOpacity>\n      </Animated.View>\n    </View>\n  );\n}\n\n/***** Default props and types */\n\nDraggable.defaultProps = {\n  renderText: 'ï¼‹',\n  renderSize: 36,\n  shouldReverse: false,\n  disabled: false,\n  debug: false,\n  onDrag: () => {},\n  onShortPressRelease: () => {},\n  onDragRelease: () => {},\n  onLongPress: () => {},\n  onPressIn: () => {},\n  onPressOut: () => {},\n  onRelease: () => {},\n  x: 0,\n  y: 0,\n  z: 1,\n};\n\nDraggable.propTypes = {\n  /**** props that should probably be removed in favor of \"children\" */\n  renderText: PropTypes.string,\n  isCircle: PropTypes.bool,\n  renderSize: PropTypes.number,\n  imageSource: PropTypes.number,\n  renderColor: PropTypes.string,\n  /**** */\n  children: PropTypes.element,\n  shouldReverse: PropTypes.bool,\n  disabled: PropTypes.bool,\n  debug: PropTypes.bool,\n  animatedViewProps: PropTypes.object,\n  touchableOpacityProps: PropTypes.object,\n  onDrag: PropTypes.func,\n  onShortPressRelease: PropTypes.func,\n  onDragRelease: PropTypes.func,\n  onLongPress: PropTypes.func,\n  onPressIn: PropTypes.func,\n  onPressOut: PropTypes.func,\n  onRelease: PropTypes.func,\n  onReverse: PropTypes.func,\n  x: PropTypes.number,\n  y: PropTypes.number,\n  // z/elevation should be removed because it doesn't sync up visually and haptically\n  z: PropTypes.number,\n  minX: PropTypes.number,\n  minY: PropTypes.number,\n  maxX: PropTypes.number,\n  maxY: PropTypes.number,\n};\n\nconst styles = StyleSheet.create({\n  text: {color: '#fff', textAlign: 'center'},\n  test: {backgroundColor: 'red'},\n  debugView: {\n    backgroundColor: '#ff000044',\n    position: 'absolute',\n    borderColor: '#fced0ecc',\n    borderWidth: 4,\n  },\n});\n"],"mappings":"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"}