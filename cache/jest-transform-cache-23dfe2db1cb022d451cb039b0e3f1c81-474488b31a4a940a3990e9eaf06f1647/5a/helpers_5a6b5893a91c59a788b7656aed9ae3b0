b8091f52c23a63279e591c5a0586abc2
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.childrenAsString = childrenAsString;
exports.extractAlignment = extractAlignment;
exports.extractBrush = extractBrush;
exports.extractColor = extractColor;
exports.extractFontAndLines = extractFontAndLines;
exports.extractOpacity = extractOpacity;
exports.extractShadow = extractShadow;
exports.extractStrokeCap = extractStrokeCap;
exports.extractStrokeJoin = extractStrokeJoin;
exports.extractTransform = extractTransform;
exports.insertColorStopsIntoArray = insertColorStopsIntoArray;
exports.insertDoubleColorStopsIntoArray = insertDoubleColorStopsIntoArray;
var _processColor = _interopRequireDefault(require("react-native/Libraries/StyleSheet/processColor"));
var _color = _interopRequireDefault(require("art/core/color"));
var _transform = _interopRequireDefault(require("art/core/transform"));
var _reactNative = require("react-native");
function childrenAsString(children) {
  if (!children) {
    return '';
  }
  if (typeof children === 'string') {
    return children;
  }
  if (children.length) {
    return children.join('\n');
  }
  return '';
}
function extractOpacity(_ref) {
  var visible = _ref.visible,
    opacity = _ref.opacity;
  if (visible === false) {
    return 0;
  }
  if (opacity == null) {
    return 1;
  }
  return +opacity;
}
var pooledTransform = new _transform.default();
function extractTransform(props) {
  var scaleX = props.scaleX != null ? props.scaleX : props.scale != null ? props.scale : 1;
  var scaleY = props.scaleY != null ? props.scaleY : props.scale != null ? props.scale : 1;
  pooledTransform.transformTo(1, 0, 0, 1, 0, 0).move(props.x || 0, props.y || 0).rotate(props.rotation || 0, props.originX, props.originY).scale(scaleX, scaleY);
  if (props.transform != null) {
    pooledTransform.transform(props.transform);
  }
  return [pooledTransform.xx, pooledTransform.yx, pooledTransform.xy, pooledTransform.yy, pooledTransform.x, pooledTransform.y];
}
function toHex(color) {
  var intValues = [color.red, color.green, color.blue];
  if (color.alpha < 1) {
    var position = _reactNative.Platform.OS === 'android' ? 0 : 3;
    intValues.splice(position, 0, Math.round(color.alpha * 255));
  }
  var hexValues = intValues.map(function (iv) {
    var sv = iv.toString(16);
    return sv.length === 1 ? '0' + sv : sv;
  });
  return '#' + hexValues.join('');
}
function extractShadow(props) {
  var _props$shadowOffset, _props$shadowOffset2;
  if (!props.shadowColor && !props.shadowOpacity && !props.shadowRadius && !props.shadowOffset) {
    return;
  }
  var opacity = props.shadowOpacity;
  if (opacity === null || opacity === undefined) {
    opacity = 1;
  }
  return [(0, _processColor.default)(props.shadowColor || 'black'), opacity, props.shadowRadius || 4, ((_props$shadowOffset = props.shadowOffset) == null ? void 0 : _props$shadowOffset.x) || 0, ((_props$shadowOffset2 = props.shadowOffset) == null ? void 0 : _props$shadowOffset2.y) || 0];
}
function extractColor(color) {
  if (color == null) {
    return null;
  }
  return toHex(new _color.default(color));
}
function extractStrokeJoin(strokeJoin) {
  switch (strokeJoin) {
    case 'miter':
      return 0;
    case 'bevel':
      return 2;
    default:
      return 1;
  }
}
function extractStrokeCap(strokeCap) {
  switch (strokeCap) {
    case 'butt':
      return 0;
    case 'square':
      return 2;
    default:
      return 1;
  }
}
var SOLID_COLOR = 0;
var LINEAR_GRADIENT = 1;
var RADIAL_GRADIENT = 2;
var PATTERN = 3;
function applyBoundingBoxToBrushData(brushData, props) {
  var type = brushData[0];
  var width = +props.width;
  var height = +props.height;
  if (type === LINEAR_GRADIENT) {
    brushData[1] *= width;
    brushData[2] *= height;
    brushData[3] *= width;
    brushData[4] *= height;
  } else if (type === RADIAL_GRADIENT) {
    brushData[1] *= width;
    brushData[2] *= height;
    brushData[3] *= width;
    brushData[4] *= height;
    brushData[5] *= width;
    brushData[6] *= height;
  } else if (type === PATTERN) {}
}
function extractBrush(colorOrBrush, props) {
  if (colorOrBrush == null) {
    return null;
  }
  if (colorOrBrush._brush) {
    if (colorOrBrush._bb) {
      applyBoundingBoxToBrushData(colorOrBrush._brush, props);
      colorOrBrush._bb = false;
    }
    return colorOrBrush._brush;
  }
  var c = new _color.default(colorOrBrush);
  return [SOLID_COLOR, c.red / 255, c.green / 255, c.blue / 255, c.alpha];
}
function extractAlignment(alignment) {
  switch (alignment) {
    case 'right':
      return 1;
    case 'center':
      return 2;
    default:
      return 0;
  }
}
var cachedFontObjectsFromString = {};
var fontFamilyPrefix = /^[\s"']*/;
var fontFamilySuffix = /[\s"']*$/;
function extractSingleFontFamily(fontFamilyString) {
  return fontFamilyString.split(',')[0].replace(fontFamilyPrefix, '').replace(fontFamilySuffix, '');
}
function parseFontString(font) {
  if (cachedFontObjectsFromString.hasOwnProperty(font)) {
    return cachedFontObjectsFromString[font];
  }
  var regexp = /^\s*((?:(?:normal|bold|italic)\s+)*)(?:(\d+(?:\.\d+)?)[ptexm\%]*(?:\s*\/.*?)?\s+)?\s*\"?([^\"]*)/i;
  var match = regexp.exec(font);
  if (!match) {
    return null;
  }
  var fontFamily = extractSingleFontFamily(match[3]);
  var fontSize = +match[2] || 12;
  var isBold = /bold/.exec(match[1]);
  var isItalic = /italic/.exec(match[1]);
  cachedFontObjectsFromString[font] = {
    fontFamily: fontFamily,
    fontSize: fontSize,
    fontWeight: isBold ? 'bold' : 'normal',
    fontStyle: isItalic ? 'italic' : 'normal'
  };
  return cachedFontObjectsFromString[font];
}
function extractFont(font) {
  if (font == null) {
    return null;
  }
  if (typeof font === 'string') {
    return parseFontString(font);
  }
  var fontFamily = extractSingleFontFamily(font.fontFamily);
  var fontSize = +font.fontSize || 12;
  var fontWeight = font.fontWeight != null ? font.fontWeight.toString() : '400';
  return {
    fontFamily: fontFamily,
    fontSize: fontSize,
    fontWeight: fontWeight,
    fontStyle: font.fontStyle
  };
}
var newLine = /\n/g;
function extractFontAndLines(font, text) {
  return {
    font: extractFont(font),
    lines: text.split(newLine)
  };
}
function insertColorIntoArray(color, targetArray, atIndex) {
  var c = new _color.default(color);
  targetArray[atIndex + 0] = c.red / 255;
  targetArray[atIndex + 1] = c.green / 255;
  targetArray[atIndex + 2] = c.blue / 255;
  targetArray[atIndex + 3] = c.alpha;
}
function insertColorsIntoArray(stops, targetArray, atIndex) {
  var i = 0;
  if ('length' in stops) {
    while (i < stops.length) {
      insertColorIntoArray(stops[i], targetArray, atIndex + i * 4);
      i++;
    }
  } else {
    for (var offset in stops) {
      insertColorIntoArray(stops[offset], targetArray, atIndex + i * 4);
      i++;
    }
  }
  return atIndex + i * 4;
}
function insertOffsetsIntoArray(stops, targetArray, atIndex, multi, reverse) {
  var offsetNumber;
  var i = 0;
  if ('length' in stops) {
    while (i < stops.length) {
      offsetNumber = i / (stops.length - 1) * multi;
      targetArray[atIndex + i] = reverse ? 1 - offsetNumber : offsetNumber;
      i++;
    }
  } else {
    for (var offsetString in stops) {
      offsetNumber = +offsetString * multi;
      targetArray[atIndex + i] = reverse ? 1 - offsetNumber : offsetNumber;
      i++;
    }
  }
  return atIndex + i;
}
function insertColorStopsIntoArray(stops, targetArray, atIndex) {
  var lastIndex = insertColorsIntoArray(stops, targetArray, atIndex);
  insertOffsetsIntoArray(stops, targetArray, lastIndex, 1, false);
}
function insertDoubleColorStopsIntoArray(stops, targetArray, atIndex) {
  var lastIndex = insertColorsIntoArray(stops, targetArray, atIndex);
  lastIndex = insertColorsIntoArray(stops, targetArray, lastIndex);
  lastIndex = insertOffsetsIntoArray(stops, targetArray, lastIndex, 0.5, false);
  insertOffsetsIntoArray(stops, targetArray, lastIndex, 0.5, true);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvY2Vzc0NvbG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfY29sb3IiLCJfdHJhbnNmb3JtIiwiX3JlYWN0TmF0aXZlIiwiY2hpbGRyZW5Bc1N0cmluZyIsImNoaWxkcmVuIiwibGVuZ3RoIiwiam9pbiIsImV4dHJhY3RPcGFjaXR5IiwiX3JlZiIsInZpc2libGUiLCJvcGFjaXR5IiwicG9vbGVkVHJhbnNmb3JtIiwiVHJhbnNmb3JtIiwiZXh0cmFjdFRyYW5zZm9ybSIsInByb3BzIiwic2NhbGVYIiwic2NhbGUiLCJzY2FsZVkiLCJ0cmFuc2Zvcm1UbyIsIm1vdmUiLCJ4IiwieSIsInJvdGF0ZSIsInJvdGF0aW9uIiwib3JpZ2luWCIsIm9yaWdpblkiLCJ0cmFuc2Zvcm0iLCJ4eCIsInl4IiwieHkiLCJ5eSIsInRvSGV4IiwiY29sb3IiLCJpbnRWYWx1ZXMiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJhbHBoYSIsInBvc2l0aW9uIiwiUGxhdGZvcm0iLCJPUyIsInNwbGljZSIsIk1hdGgiLCJyb3VuZCIsImhleFZhbHVlcyIsIm1hcCIsIml2Iiwic3YiLCJ0b1N0cmluZyIsImV4dHJhY3RTaGFkb3ciLCJfcHJvcHMkc2hhZG93T2Zmc2V0IiwiX3Byb3BzJHNoYWRvd09mZnNldDIiLCJzaGFkb3dDb2xvciIsInNoYWRvd09wYWNpdHkiLCJzaGFkb3dSYWRpdXMiLCJzaGFkb3dPZmZzZXQiLCJ1bmRlZmluZWQiLCJwcm9jZXNzQ29sb3IiLCJleHRyYWN0Q29sb3IiLCJDb2xvciIsImV4dHJhY3RTdHJva2VKb2luIiwic3Ryb2tlSm9pbiIsImV4dHJhY3RTdHJva2VDYXAiLCJzdHJva2VDYXAiLCJTT0xJRF9DT0xPUiIsIkxJTkVBUl9HUkFESUVOVCIsIlJBRElBTF9HUkFESUVOVCIsIlBBVFRFUk4iLCJhcHBseUJvdW5kaW5nQm94VG9CcnVzaERhdGEiLCJicnVzaERhdGEiLCJ0eXBlIiwid2lkdGgiLCJoZWlnaHQiLCJleHRyYWN0QnJ1c2giLCJjb2xvck9yQnJ1c2giLCJfYnJ1c2giLCJfYmIiLCJjIiwiZXh0cmFjdEFsaWdubWVudCIsImFsaWdubWVudCIsImNhY2hlZEZvbnRPYmplY3RzRnJvbVN0cmluZyIsImZvbnRGYW1pbHlQcmVmaXgiLCJmb250RmFtaWx5U3VmZml4IiwiZXh0cmFjdFNpbmdsZUZvbnRGYW1pbHkiLCJmb250RmFtaWx5U3RyaW5nIiwic3BsaXQiLCJyZXBsYWNlIiwicGFyc2VGb250U3RyaW5nIiwiZm9udCIsImhhc093blByb3BlcnR5IiwicmVnZXhwIiwibWF0Y2giLCJleGVjIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiaXNCb2xkIiwiaXNJdGFsaWMiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwiZXh0cmFjdEZvbnQiLCJuZXdMaW5lIiwiZXh0cmFjdEZvbnRBbmRMaW5lcyIsInRleHQiLCJsaW5lcyIsImluc2VydENvbG9ySW50b0FycmF5IiwidGFyZ2V0QXJyYXkiLCJhdEluZGV4IiwiaW5zZXJ0Q29sb3JzSW50b0FycmF5Iiwic3RvcHMiLCJpIiwib2Zmc2V0IiwiaW5zZXJ0T2Zmc2V0c0ludG9BcnJheSIsIm11bHRpIiwicmV2ZXJzZSIsIm9mZnNldE51bWJlciIsIm9mZnNldFN0cmluZyIsImluc2VydENvbG9yU3RvcHNJbnRvQXJyYXkiLCJsYXN0SW5kZXgiLCJpbnNlcnREb3VibGVDb2xvclN0b3BzSW50b0FycmF5Il0sInNvdXJjZXMiOlsiaGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKi9cblxuaW1wb3J0IHByb2Nlc3NDb2xvciBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvcHJvY2Vzc0NvbG9yJztcbmltcG9ydCBDb2xvciBmcm9tICdhcnQvY29yZS9jb2xvcic7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gJ2FydC9jb3JlL3RyYW5zZm9ybSc7XG5pbXBvcnQge1BsYXRmb3JtfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHR5cGUge1xuICBBbGlnbm1lbnQsXG4gIEJydXNoLFxuICBDb2xvclR5cGUsXG4gIEZvbnQsXG4gIEdyYWRpZW50U3RvcHMsXG4gIE9wYWNpdHlQcm9wcyxcbiAgU3Ryb2tlQ2FwLFxuICBTdHJva2VKb2luLFxuICBUcmFuc2Zvcm1Qcm9wcyxcbiAgU2hhZG93UHJvcHMsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRyZW5Bc1N0cmluZyhjaGlsZHJlbj86IHN0cmluZyB8IEFycmF5PHN0cmluZz4pIHtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuLmpvaW4oJ1xcbicpO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RPcGFjaXR5KHt2aXNpYmxlLCBvcGFjaXR5fTogT3BhY2l0eVByb3BzKSB7XG4gIC8vIFRPRE86IHZpc2libGUgPT09IGZhbHNlIHNob3VsZCBhbHNvIGhhdmUgbm8gaGl0IGRldGVjdGlvblxuICBpZiAodmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAob3BhY2l0eSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuICtvcGFjaXR5O1xufVxuXG5jb25zdCBwb29sZWRUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VHJhbnNmb3JtKHByb3BzOiBUcmFuc2Zvcm1Qcm9wcyk6IEFycmF5PG51bWJlcj4ge1xuICBjb25zdCBzY2FsZVggPVxuICAgIHByb3BzLnNjYWxlWCAhPSBudWxsID8gcHJvcHMuc2NhbGVYIDogcHJvcHMuc2NhbGUgIT0gbnVsbCA/IHByb3BzLnNjYWxlIDogMTtcbiAgY29uc3Qgc2NhbGVZID1cbiAgICBwcm9wcy5zY2FsZVkgIT0gbnVsbCA/IHByb3BzLnNjYWxlWSA6IHByb3BzLnNjYWxlICE9IG51bGwgPyBwcm9wcy5zY2FsZSA6IDE7XG5cbiAgcG9vbGVkVHJhbnNmb3JtXG4gICAgLnRyYW5zZm9ybVRvKDEsIDAsIDAsIDEsIDAsIDApXG4gICAgLm1vdmUocHJvcHMueCB8fCAwLCBwcm9wcy55IHx8IDApXG4gICAgLnJvdGF0ZShwcm9wcy5yb3RhdGlvbiB8fCAwLCBwcm9wcy5vcmlnaW5YLCBwcm9wcy5vcmlnaW5ZKVxuICAgIC5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG5cbiAgaWYgKHByb3BzLnRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgcG9vbGVkVHJhbnNmb3JtLnRyYW5zZm9ybShwcm9wcy50cmFuc2Zvcm0pO1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICBwb29sZWRUcmFuc2Zvcm0ueHgsXG4gICAgcG9vbGVkVHJhbnNmb3JtLnl4LFxuICAgIHBvb2xlZFRyYW5zZm9ybS54eSxcbiAgICBwb29sZWRUcmFuc2Zvcm0ueXksXG4gICAgcG9vbGVkVHJhbnNmb3JtLngsXG4gICAgcG9vbGVkVHJhbnNmb3JtLnksXG4gIF07XG59XG5cbmZ1bmN0aW9uIHRvSGV4KGNvbG9yOiBDb2xvcikge1xuICBjb25zdCBpbnRWYWx1ZXMgPSBbY29sb3IucmVkLCBjb2xvci5ncmVlbiwgY29sb3IuYmx1ZV07XG4gIGlmIChjb2xvci5hbHBoYSA8IDEpIHtcbiAgICAvLyBBbmRyb2lkIHVzZXMgQUFSUkdHQkIgOyBpT1MgdXNlcyBSUkdHQkJBQVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL3JlZmVyZW5jZS9hbmRyb2lkL2dyYXBoaWNzL0NvbG9yLmh0bWwjcGFyc2VDb2xvcihqYXZhLmxhbmcuU3RyaW5nKVxuICAgIGNvbnN0IHBvc2l0aW9uID0gUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyA/IDAgOiAzO1xuICAgIGludFZhbHVlcy5zcGxpY2UocG9zaXRpb24sIDAsIE1hdGgucm91bmQoY29sb3IuYWxwaGEgKiAyNTUpKTtcbiAgfVxuICBjb25zdCBoZXhWYWx1ZXMgPSBpbnRWYWx1ZXMubWFwKGl2ID0+IHtcbiAgICBjb25zdCBzdiA9IGl2LnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gc3YubGVuZ3RoID09PSAxID8gJzAnICsgc3YgOiBzdjtcbiAgfSk7XG4gIHJldHVybiAnIycgKyBoZXhWYWx1ZXMuam9pbignJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0U2hhZG93KFxuICBwcm9wczogU2hhZG93UHJvcHMsXG4pOiBBcnJheTxudW1iZXIgfCBudWxsIHwgdm9pZD4gfCB2b2lkIHtcbiAgaWYgKFxuICAgICFwcm9wcy5zaGFkb3dDb2xvciAmJlxuICAgICFwcm9wcy5zaGFkb3dPcGFjaXR5ICYmXG4gICAgIXByb3BzLnNoYWRvd1JhZGl1cyAmJlxuICAgICFwcm9wcy5zaGFkb3dPZmZzZXRcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IG9wYWNpdHkgPSBwcm9wcy5zaGFkb3dPcGFjaXR5O1xuXG4gIGlmIChvcGFjaXR5ID09PSBudWxsIHx8IG9wYWNpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wYWNpdHkgPSAxO1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICBwcm9jZXNzQ29sb3IocHJvcHMuc2hhZG93Q29sb3IgfHwgJ2JsYWNrJyksXG4gICAgb3BhY2l0eSxcbiAgICBwcm9wcy5zaGFkb3dSYWRpdXMgfHwgNCxcbiAgICBwcm9wcy5zaGFkb3dPZmZzZXQ/LnggfHwgMCxcbiAgICBwcm9wcy5zaGFkb3dPZmZzZXQ/LnkgfHwgMCxcbiAgXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RDb2xvcihjb2xvcj86IENvbG9yVHlwZSkge1xuICBpZiAoY29sb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB0b0hleChuZXcgQ29sb3IoY29sb3IpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTdHJva2VKb2luKHN0cm9rZUpvaW4/OiBTdHJva2VKb2luKSB7XG4gIHN3aXRjaCAoc3Ryb2tlSm9pbikge1xuICAgIGNhc2UgJ21pdGVyJzpcbiAgICAgIHJldHVybiAwO1xuICAgIGNhc2UgJ2JldmVsJzpcbiAgICAgIHJldHVybiAyO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMTsgLy8gcm91bmRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFN0cm9rZUNhcChzdHJva2VDYXA/OiBTdHJva2VDYXApIHtcbiAgc3dpdGNoIChzdHJva2VDYXApIHtcbiAgICBjYXNlICdidXR0JzpcbiAgICAgIHJldHVybiAwO1xuICAgIGNhc2UgJ3NxdWFyZSc6XG4gICAgICByZXR1cm4gMjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIDE7IC8vIHJvdW5kXG4gIH1cbn1cblxuY29uc3QgU09MSURfQ09MT1IgPSAwO1xuY29uc3QgTElORUFSX0dSQURJRU5UID0gMTtcbmNvbnN0IFJBRElBTF9HUkFESUVOVCA9IDI7XG5jb25zdCBQQVRURVJOID0gMztcblxuLy8gVE9ETzogUmVmYWN0b3IgYW5kIHNpbXBsaWZ5IGFwcGx5Qm91bmRpbmdCb3hUb0JydXNoRGF0YSBhbmQgZXh0cmFjdEJydXNoXG5cbmZ1bmN0aW9uIGFwcGx5Qm91bmRpbmdCb3hUb0JydXNoRGF0YShcbiAgYnJ1c2hEYXRhOiBBcnJheTxudW1iZXI+LFxuICBwcm9wczoge3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfSxcbikge1xuICBjb25zdCB0eXBlID0gYnJ1c2hEYXRhWzBdO1xuICBjb25zdCB3aWR0aCA9ICtwcm9wcy53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gK3Byb3BzLmhlaWdodDtcbiAgaWYgKHR5cGUgPT09IExJTkVBUl9HUkFESUVOVCkge1xuICAgIGJydXNoRGF0YVsxXSAqPSB3aWR0aDtcbiAgICBicnVzaERhdGFbMl0gKj0gaGVpZ2h0O1xuICAgIGJydXNoRGF0YVszXSAqPSB3aWR0aDtcbiAgICBicnVzaERhdGFbNF0gKj0gaGVpZ2h0O1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFJBRElBTF9HUkFESUVOVCkge1xuICAgIGJydXNoRGF0YVsxXSAqPSB3aWR0aDtcbiAgICBicnVzaERhdGFbMl0gKj0gaGVpZ2h0O1xuICAgIGJydXNoRGF0YVszXSAqPSB3aWR0aDtcbiAgICBicnVzaERhdGFbNF0gKj0gaGVpZ2h0O1xuICAgIGJydXNoRGF0YVs1XSAqPSB3aWR0aDtcbiAgICBicnVzaERhdGFbNl0gKj0gaGVpZ2h0O1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFBBVFRFUk4pIHtcbiAgICAvLyB0b2RvXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RCcnVzaChcbiAgY29sb3JPckJydXNoPzogQnJ1c2ggfCBzdHJpbmcsXG4gIHByb3BzOiB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9LFxuKSB7XG4gIGlmIChjb2xvck9yQnJ1c2ggPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChjb2xvck9yQnJ1c2guX2JydXNoKSB7XG4gICAgaWYgKGNvbG9yT3JCcnVzaC5fYmIpIHtcbiAgICAgIC8vIFRoZSBsZWdhY3kgQVBJIGZvciBHcmFkaWVudHMgYWxsb3cgZm9yIHRoZSBib3VuZGluZyBib3ggdG8gYmUgdXNlZFxuICAgICAgLy8gYXMgYSBjb252ZW5pZW5jZSBmb3Igc3BlY2lmeWluZyBncmFkaWVudCBwb3NpdGlvbnMuIFRoaXMgc2hvdWxkIGJlXG4gICAgICAvLyBkZXByZWNhdGVkLiBJdCdzIG5vdCBwcm9wZXJseSBpbXBsZW1lbnRlZCBpbiBjYW52YXMgbW9kZS4gUmVhY3RBUlRcbiAgICAgIC8vIGRvZXNuJ3QgaGFuZGxlIHVwZGF0ZSB0byB0aGUgYm91bmRpbmcgYm94IGNvcnJlY3RseS4gVGhhdCdzIHdoeSB3ZVxuICAgICAgLy8gbXV0YXRlIHRoaXMgc28gdGhhdCBpZiBpdCdzIHJldXNlZCwgd2UgcmV1c2UgdGhlIHNhbWUgcmVzb2x2ZWQgYm94LlxuXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBhcHBseUJvdW5kaW5nQm94VG9CcnVzaERhdGEoY29sb3JPckJydXNoLl9icnVzaCwgcHJvcHMpO1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgY29sb3JPckJydXNoLl9iYiA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JPckJydXNoLl9icnVzaDtcbiAgfVxuICBjb25zdCBjID0gbmV3IENvbG9yKGNvbG9yT3JCcnVzaCk7XG4gIHJldHVybiBbU09MSURfQ09MT1IsIGMucmVkIC8gMjU1LCBjLmdyZWVuIC8gMjU1LCBjLmJsdWUgLyAyNTUsIGMuYWxwaGFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEFsaWdubWVudChhbGlnbm1lbnQ/OiBBbGlnbm1lbnQpIHtcbiAgc3dpdGNoIChhbGlnbm1lbnQpIHtcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gMTtcbiAgICBjYXNlICdjZW50ZXInOlxuICAgICAgcmV0dXJuIDI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAwOyAvLyBsZWZ0XG4gIH1cbn1cblxuY29uc3QgY2FjaGVkRm9udE9iamVjdHNGcm9tU3RyaW5nID0ge307XG5cbmNvbnN0IGZvbnRGYW1pbHlQcmVmaXggPSAvXltcXHNcIiddKi87XG5jb25zdCBmb250RmFtaWx5U3VmZml4ID0gL1tcXHNcIiddKiQvO1xuXG5mdW5jdGlvbiBleHRyYWN0U2luZ2xlRm9udEZhbWlseShmb250RmFtaWx5U3RyaW5nOiBzdHJpbmcpIHtcbiAgLy8gQVJUIG9uIHRoZSB3ZWIgYWxsb3dzIGZvciBtdWx0aXBsZSBmb250LWZhbWlsaWVzIHRvIGJlIHNwZWNpZmllZC5cbiAgLy8gRm9yIGNvbXBhdGliaWxpdHksIHdlIGV4dHJhY3QgdGhlIGZpcnN0IGZvbnQtZmFtaWx5LCBob3BpbmdcbiAgLy8gd2UnbGwgZ2V0IGEgbWF0Y2guXG4gIHJldHVybiBmb250RmFtaWx5U3RyaW5nXG4gICAgLnNwbGl0KCcsJylbMF1cbiAgICAucmVwbGFjZShmb250RmFtaWx5UHJlZml4LCAnJylcbiAgICAucmVwbGFjZShmb250RmFtaWx5U3VmZml4LCAnJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRm9udFN0cmluZyhmb250OiBzdHJpbmcpIHtcbiAgaWYgKGNhY2hlZEZvbnRPYmplY3RzRnJvbVN0cmluZy5oYXNPd25Qcm9wZXJ0eShmb250KSkge1xuICAgIHJldHVybiBjYWNoZWRGb250T2JqZWN0c0Zyb21TdHJpbmdbZm9udF07XG4gIH1cbiAgY29uc3QgcmVnZXhwID0gL15cXHMqKCg/Oig/Om5vcm1hbHxib2xkfGl0YWxpYylcXHMrKSopKD86KFxcZCsoPzpcXC5cXGQrKT8pW3B0ZXhtXFwlXSooPzpcXHMqXFwvLio/KT9cXHMrKT9cXHMqXFxcIj8oW15cXFwiXSopL2k7XG4gIGNvbnN0IG1hdGNoID0gcmVnZXhwLmV4ZWMoZm9udCk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBmb250RmFtaWx5ID0gZXh0cmFjdFNpbmdsZUZvbnRGYW1pbHkobWF0Y2hbM10pO1xuICBjb25zdCBmb250U2l6ZSA9ICttYXRjaFsyXSB8fCAxMjtcbiAgY29uc3QgaXNCb2xkID0gL2JvbGQvLmV4ZWMobWF0Y2hbMV0pO1xuICBjb25zdCBpc0l0YWxpYyA9IC9pdGFsaWMvLmV4ZWMobWF0Y2hbMV0pO1xuICBjYWNoZWRGb250T2JqZWN0c0Zyb21TdHJpbmdbZm9udF0gPSB7XG4gICAgZm9udEZhbWlseTogZm9udEZhbWlseSxcbiAgICBmb250U2l6ZTogZm9udFNpemUsXG4gICAgZm9udFdlaWdodDogaXNCb2xkID8gJ2JvbGQnIDogJ25vcm1hbCcsXG4gICAgZm9udFN0eWxlOiBpc0l0YWxpYyA/ICdpdGFsaWMnIDogJ25vcm1hbCcsXG4gIH07XG4gIHJldHVybiBjYWNoZWRGb250T2JqZWN0c0Zyb21TdHJpbmdbZm9udF07XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RGb250KGZvbnQ/OiBzdHJpbmcgfCBGb250KSB7XG4gIGlmIChmb250ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodHlwZW9mIGZvbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlRm9udFN0cmluZyhmb250KTtcbiAgfVxuICBjb25zdCBmb250RmFtaWx5ID0gZXh0cmFjdFNpbmdsZUZvbnRGYW1pbHkoZm9udC5mb250RmFtaWx5KTtcbiAgY29uc3QgZm9udFNpemUgPSArZm9udC5mb250U2l6ZSB8fCAxMjtcbiAgY29uc3QgZm9udFdlaWdodCA9XG4gICAgZm9udC5mb250V2VpZ2h0ICE9IG51bGwgPyBmb250LmZvbnRXZWlnaHQudG9TdHJpbmcoKSA6ICc0MDAnO1xuICByZXR1cm4ge1xuICAgIC8vIE5vcm1hbGl6ZVxuICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgZm9udFNpemU6IGZvbnRTaXplLFxuICAgIGZvbnRXZWlnaHQ6IGZvbnRXZWlnaHQsXG4gICAgZm9udFN0eWxlOiBmb250LmZvbnRTdHlsZSxcbiAgfTtcbn1cblxuY29uc3QgbmV3TGluZSA9IC9cXG4vZztcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0Rm9udEFuZExpbmVzKGZvbnQ/OiBzdHJpbmcgfCBGb250LCB0ZXh0OiBzdHJpbmcpIHtcbiAgcmV0dXJuIHtmb250OiBleHRyYWN0Rm9udChmb250KSwgbGluZXM6IHRleHQuc3BsaXQobmV3TGluZSl9O1xufVxuXG5mdW5jdGlvbiBpbnNlcnRDb2xvckludG9BcnJheShjb2xvcjogQ29sb3JUeXBlLCB0YXJnZXRBcnJheSwgYXRJbmRleCkge1xuICBjb25zdCBjID0gbmV3IENvbG9yKGNvbG9yKTtcbiAgdGFyZ2V0QXJyYXlbYXRJbmRleCArIDBdID0gYy5yZWQgLyAyNTU7XG4gIHRhcmdldEFycmF5W2F0SW5kZXggKyAxXSA9IGMuZ3JlZW4gLyAyNTU7XG4gIHRhcmdldEFycmF5W2F0SW5kZXggKyAyXSA9IGMuYmx1ZSAvIDI1NTtcbiAgdGFyZ2V0QXJyYXlbYXRJbmRleCArIDNdID0gYy5hbHBoYTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0Q29sb3JzSW50b0FycmF5KFxuICBzdG9wczogR3JhZGllbnRTdG9wcyxcbiAgdGFyZ2V0QXJyYXk6IEFycmF5PG51bWJlcj4sXG4gIGF0SW5kZXg6IG51bWJlcixcbikge1xuICBsZXQgaSA9IDA7XG4gIGlmICgnbGVuZ3RoJyBpbiBzdG9wcykge1xuICAgIC8vICRGbG93Rml4TWU6IHN0b3BzIGlzIEFycmF5IGhlcmVcbiAgICB3aGlsZSAoaSA8IHN0b3BzLmxlbmd0aCkge1xuICAgICAgLy8gJEZsb3dGaXhNZTogc3RvcHMgaXMgQXJyYXkgaGVyZVxuICAgICAgaW5zZXJ0Q29sb3JJbnRvQXJyYXkoc3RvcHNbaV0sIHRhcmdldEFycmF5LCBhdEluZGV4ICsgaSAqIDQpO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyAkRmxvd0ZpeE1lIHN0b3BzIGlzIE9iamVjdCBoZXJlXG4gICAgZm9yIChjb25zdCBvZmZzZXQgaW4gc3RvcHMpIHtcbiAgICAgIGluc2VydENvbG9ySW50b0FycmF5KHN0b3BzW29mZnNldF0sIHRhcmdldEFycmF5LCBhdEluZGV4ICsgaSAqIDQpO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXRJbmRleCArIGkgKiA0O1xufVxuXG5mdW5jdGlvbiBpbnNlcnRPZmZzZXRzSW50b0FycmF5KFxuICBzdG9wczogR3JhZGllbnRTdG9wcyxcbiAgdGFyZ2V0QXJyYXk6IEFycmF5PG51bWJlcj4sXG4gIGF0SW5kZXg6IG51bWJlcixcbiAgbXVsdGk6IG51bWJlcixcbiAgcmV2ZXJzZTogYm9vbGVhbixcbikge1xuICBsZXQgb2Zmc2V0TnVtYmVyO1xuICBsZXQgaSA9IDA7XG4gIGlmICgnbGVuZ3RoJyBpbiBzdG9wcykge1xuICAgIC8vICRGbG93Rml4TWU6IHN0b3BzIGlzIEFycmF5IGhlcmVcbiAgICB3aGlsZSAoaSA8IHN0b3BzLmxlbmd0aCkge1xuICAgICAgLy8gJEZsb3dGaXhNZTogc3RvcHMgaXMgQXJyYXkgaGVyZVxuICAgICAgb2Zmc2V0TnVtYmVyID0gKGkgLyAoc3RvcHMubGVuZ3RoIC0gMSkpICogbXVsdGk7XG4gICAgICB0YXJnZXRBcnJheVthdEluZGV4ICsgaV0gPSByZXZlcnNlID8gMSAtIG9mZnNldE51bWJlciA6IG9mZnNldE51bWJlcjtcbiAgICAgIGkrKztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gJEZsb3dGaXhNZSBzdG9wcyBpcyBPYmplY3QgaGVyZVxuICAgIGZvciAoY29uc3Qgb2Zmc2V0U3RyaW5nIGluIHN0b3BzKSB7XG4gICAgICBvZmZzZXROdW1iZXIgPSArb2Zmc2V0U3RyaW5nICogbXVsdGk7XG4gICAgICB0YXJnZXRBcnJheVthdEluZGV4ICsgaV0gPSByZXZlcnNlID8gMSAtIG9mZnNldE51bWJlciA6IG9mZnNldE51bWJlcjtcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGF0SW5kZXggKyBpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Q29sb3JTdG9wc0ludG9BcnJheShcbiAgc3RvcHM6IEdyYWRpZW50U3RvcHMsXG4gIHRhcmdldEFycmF5OiBBcnJheTxudW1iZXI+LFxuICBhdEluZGV4OiBudW1iZXIsXG4pIHtcbiAgY29uc3QgbGFzdEluZGV4ID0gaW5zZXJ0Q29sb3JzSW50b0FycmF5KHN0b3BzLCB0YXJnZXRBcnJheSwgYXRJbmRleCk7XG4gIGluc2VydE9mZnNldHNJbnRvQXJyYXkoc3RvcHMsIHRhcmdldEFycmF5LCBsYXN0SW5kZXgsIDEsIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydERvdWJsZUNvbG9yU3RvcHNJbnRvQXJyYXkoXG4gIHN0b3BzOiBHcmFkaWVudFN0b3BzLFxuICB0YXJnZXRBcnJheTogQXJyYXk8bnVtYmVyPixcbiAgYXRJbmRleDogbnVtYmVyLFxuKSB7XG4gIGxldCBsYXN0SW5kZXggPSBpbnNlcnRDb2xvcnNJbnRvQXJyYXkoc3RvcHMsIHRhcmdldEFycmF5LCBhdEluZGV4KTtcbiAgbGFzdEluZGV4ID0gaW5zZXJ0Q29sb3JzSW50b0FycmF5KHN0b3BzLCB0YXJnZXRBcnJheSwgbGFzdEluZGV4KTtcbiAgbGFzdEluZGV4ID0gaW5zZXJ0T2Zmc2V0c0ludG9BcnJheShzdG9wcywgdGFyZ2V0QXJyYXksIGxhc3RJbmRleCwgMC41LCBmYWxzZSk7XG4gIGluc2VydE9mZnNldHNJbnRvQXJyYXkoc3RvcHMsIHRhcmdldEFycmF5LCBsYXN0SW5kZXgsIDAuNSwgdHJ1ZSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxZQUFBLEdBQUFILE9BQUE7QUFjTyxTQUFTSSxnQkFBZ0JBLENBQUNDLFFBQWlDLEVBQUU7RUFDbEUsSUFBSSxDQUFDQSxRQUFRLEVBQUU7SUFDYixPQUFPLEVBQUU7RUFDWDtFQUNBLElBQUksT0FBT0EsUUFBUSxLQUFLLFFBQVEsRUFBRTtJQUNoQyxPQUFPQSxRQUFRO0VBQ2pCO0VBQ0EsSUFBSUEsUUFBUSxDQUFDQyxNQUFNLEVBQUU7SUFDbkIsT0FBT0QsUUFBUSxDQUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQzVCO0VB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