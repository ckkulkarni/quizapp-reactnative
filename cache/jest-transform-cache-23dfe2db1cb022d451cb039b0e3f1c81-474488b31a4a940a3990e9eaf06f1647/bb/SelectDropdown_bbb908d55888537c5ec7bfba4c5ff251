39b02e7fe61746c0c38464de8b697c45
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _styles = _interopRequireDefault(require("./styles"));
var _isExist = require("./helpers/isExist");
var _mergeStyles = require("./helpers/mergeStyles");
var _Input = _interopRequireDefault(require("./components/Input"));
var _DropdownOverlay = _interopRequireDefault(require("./components/DropdownOverlay"));
var _DropdownModal = _interopRequireDefault(require("./components/DropdownModal"));
var _DropdownWindow = _interopRequireDefault(require("./components/DropdownWindow"));
var _useSelectDropdown2 = require("./hooks/useSelectDropdown");
var _useLayoutDropdown2 = require("./hooks/useLayoutDropdown");
var _useRefs2 = require("./hooks/useRefs");
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
var SelectDropdown = function SelectDropdown(_ref, ref) {
  var data = _ref.data,
    onSelect = _ref.onSelect,
    defaultButtonText = _ref.defaultButtonText,
    buttonTextAfterSelection = _ref.buttonTextAfterSelection,
    rowTextForSelection = _ref.rowTextForSelection,
    defaultValue = _ref.defaultValue,
    defaultValueByIndex = _ref.defaultValueByIndex,
    disabled = _ref.disabled,
    disableAutoScroll = _ref.disableAutoScroll,
    disabledIndexs = _ref.disabledIndexs,
    onFocus = _ref.onFocus,
    onBlur = _ref.onBlur,
    onScrollEndReached = _ref.onScrollEndReached,
    buttonStyle = _ref.buttonStyle,
    buttonTextStyle = _ref.buttonTextStyle,
    renderCustomizedButtonChild = _ref.renderCustomizedButtonChild,
    renderDropdownIcon = _ref.renderDropdownIcon,
    dropdownIconPosition = _ref.dropdownIconPosition,
    statusBarTranslucent = _ref.statusBarTranslucent,
    dropdownStyle = _ref.dropdownStyle,
    dropdownOverlayColor = _ref.dropdownOverlayColor,
    rowStyle = _ref.rowStyle,
    rowTextStyle = _ref.rowTextStyle,
    selectedRowStyle = _ref.selectedRowStyle,
    selectedRowTextStyle = _ref.selectedRowTextStyle,
    renderCustomizedRowChild = _ref.renderCustomizedRowChild,
    search = _ref.search,
    searchInputStyle = _ref.searchInputStyle,
    searchInputTxtColor = _ref.searchInputTxtColor,
    searchInputTxtStyle = _ref.searchInputTxtStyle,
    searchPlaceHolder = _ref.searchPlaceHolder,
    searchPlaceHolderColor = _ref.searchPlaceHolderColor,
    renderSearchInputLeftIcon = _ref.renderSearchInputLeftIcon,
    renderSearchInputRightIcon = _ref.renderSearchInputRightIcon,
    onChangeSearchInputText = _ref.onChangeSearchInputText;
  var disabledInternalSearch = !!onChangeSearchInputText;
  var _useRefs = (0, _useRefs2.useRefs)(),
    dropdownButtonRef = _useRefs.dropdownButtonRef,
    dropDownFlatlistRef = _useRefs.dropDownFlatlistRef;
  var _useSelectDropdown = (0, _useSelectDropdown2.useSelectDropdown)(data, defaultValueByIndex, defaultValue, disabledInternalSearch),
    dataArr = _useSelectDropdown.dataArr,
    selectedItem = _useSelectDropdown.selectedItem,
    selectedIndex = _useSelectDropdown.selectedIndex,
    selectItem = _useSelectDropdown.selectItem,
    _reset = _useSelectDropdown.reset,
    searchTxt = _useSelectDropdown.searchTxt,
    setSearchTxt = _useSelectDropdown.setSearchTxt;
  var _useLayoutDropdown = (0, _useLayoutDropdown2.useLayoutDropdown)(data, dropdownStyle, rowStyle, search),
    isVisible = _useLayoutDropdown.isVisible,
    setIsVisible = _useLayoutDropdown.setIsVisible,
    buttonLayout = _useLayoutDropdown.buttonLayout,
    onDropdownButtonLayout = _useLayoutDropdown.onDropdownButtonLayout,
    getItemLayout = _useLayoutDropdown.getItemLayout,
    dropdownWindowStyle = _useLayoutDropdown.dropdownWindowStyle;
  (0, _react.useImperativeHandle)(ref, function () {
    return {
      reset: function reset() {
        _reset();
      },
      openDropdown: function openDropdown() {
        _openDropdown();
      },
      closeDropdown: function closeDropdown() {
        _closeDropdown();
      },
      selectIndex: function selectIndex(index) {
        selectItem(index);
      }
    };
  });
  var _openDropdown = function _openDropdown() {
    dropdownButtonRef.current.measure(function (fx, fy, w, h, px, py) {
      onDropdownButtonLayout(w, h, px, py);
      setIsVisible(true);
      onFocus && onFocus();
    });
  };
  var _closeDropdown = function _closeDropdown() {
    setIsVisible(false);
    setSearchTxt('');
    onBlur && onBlur();
  };
  var onLayout = function onLayout() {
    if (disableAutoScroll) {
      return;
    }
    if (selectedIndex >= 3 && dropDownFlatlistRef) {
      dropDownFlatlistRef.current.scrollToOffset({
        offset: rowStyle && rowStyle.height ? rowStyle.height * selectedIndex : 50 * selectedIndex,
        animated: true
      });
    }
  };
  var onSelectItem = function onSelectItem(item, index) {
    _closeDropdown();
    onSelect && onSelect(item, index);
    selectItem(index);
  };
  var renderSearchView = function renderSearchView() {
    return search && (0, _jsxRuntime.jsx)(_Input.default, {
      searchViewWidth: buttonLayout.w,
      value: searchTxt,
      valueColor: searchInputTxtColor,
      placeholder: searchPlaceHolder,
      placeholderTextColor: searchPlaceHolderColor,
      onChangeText: function onChangeText(txt) {
        setSearchTxt(txt);
        disabledInternalSearch && onChangeSearchInputText(txt);
      },
      inputStyle: searchInputStyle,
      inputTextStyle: searchInputTxtStyle,
      renderLeft: renderSearchInputLeftIcon,
      renderRight: renderSearchInputRightIcon
    });
  };
  var renderFlatlistItem = function renderFlatlistItem(_ref2) {
    var item = _ref2.item,
      index = _ref2.index;
    var isSelected = index == selectedIndex;
    return (0, _isExist.isExist)(item) && (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
      disabled: disabledIndexs == null ? void 0 : disabledIndexs.includes(index),
      activeOpacity: 0.8,
      style: (0, _mergeStyles.mergeStyles)(_styles.default.dropdownRow, rowStyle, isSelected && selectedRowStyle),
      onPress: function onPress() {
        return onSelectItem(item, index);
      },
      children: renderCustomizedRowChild ? (0, _jsxRuntime.jsx)(_reactNative.View, {
        style: _styles.default.dropdownCustomizedRowParent,
        children: renderCustomizedRowChild(item, index, isSelected)
      }) : (0, _jsxRuntime.jsx)(_reactNative.Text, {
        numberOfLines: 1,
        allowFontScaling: false,
        style: (0, _mergeStyles.mergeStyles)(_styles.default.dropdownRowText, rowTextStyle, isSelected && selectedRowTextStyle),
        children: rowTextForSelection ? rowTextForSelection(item, index) : item.toString()
      })
    });
  };
  var renderDropdown = function renderDropdown() {
    return isVisible && (0, _jsxRuntime.jsxs)(_DropdownModal.default, {
      statusBarTranslucent: statusBarTranslucent,
      visible: isVisible,
      children: [(0, _jsxRuntime.jsx)(_DropdownOverlay.default, {
        onPress: _closeDropdown,
        backgroundColor: dropdownOverlayColor
      }), (0, _jsxRuntime.jsx)(_DropdownWindow.default, {
        layoutStyle: dropdownWindowStyle,
        children: (0, _jsxRuntime.jsx)(_reactNative.FlatList, {
          data: dataArr,
          keyExtractor: function keyExtractor(item, index) {
            return index.toString();
          },
          ref: dropDownFlatlistRef,
          renderItem: renderFlatlistItem,
          getItemLayout: getItemLayout,
          onLayout: onLayout,
          ListHeaderComponent: renderSearchView(),
          stickyHeaderIndices: search && [0],
          keyboardShouldPersistTaps: "always",
          onEndReached: function onEndReached() {
            return onScrollEndReached && onScrollEndReached();
          },
          onEndReachedThreshold: 0.5
        })
      })]
    });
  };
  return (0, _jsxRuntime.jsxs)(_reactNative.TouchableOpacity, {
    activeOpacity: 0.8,
    ref: dropdownButtonRef,
    disabled: disabled,
    onPress: _openDropdown,
    style: (0, _mergeStyles.mergeStyles)(_styles.default.dropdownButton, dropdownIconPosition == 'left' ? _styles.default.row : _styles.default.rowRevese, buttonStyle),
    children: [renderDropdown(), renderDropdownIcon && renderDropdownIcon(isVisible), renderCustomizedButtonChild ? (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: _styles.default.dropdownCustomizedButtonParent,
      children: renderCustomizedButtonChild(selectedItem, selectedIndex)
    }) : (0, _jsxRuntime.jsx)(_reactNative.Text, {
      numberOfLines: 1,
      allowFontScaling: false,
      style: (0, _mergeStyles.mergeStyles)(_styles.default.dropdownButtonText, buttonTextStyle),
      children: (0, _isExist.isExist)(selectedItem) ? buttonTextAfterSelection ? buttonTextAfterSelection(selectedItem, selectedIndex) : selectedItem.toString() : defaultButtonText || 'Select an option.'
    })]
  });
};
var _default = (0, _react.forwardRef)(function (props, ref) {
  return SelectDropdown(props, ref);
});
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfc3R5bGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9pc0V4aXN0IiwiX21lcmdlU3R5bGVzIiwiX0lucHV0IiwiX0Ryb3Bkb3duT3ZlcmxheSIsIl9Ecm9wZG93bk1vZGFsIiwiX0Ryb3Bkb3duV2luZG93IiwiX3VzZVNlbGVjdERyb3Bkb3duMiIsIl91c2VMYXlvdXREcm9wZG93bjIiLCJfdXNlUmVmczIiLCJfanN4UnVudGltZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJTZWxlY3REcm9wZG93biIsIl9yZWYiLCJyZWYiLCJkYXRhIiwib25TZWxlY3QiLCJkZWZhdWx0QnV0dG9uVGV4dCIsImJ1dHRvblRleHRBZnRlclNlbGVjdGlvbiIsInJvd1RleHRGb3JTZWxlY3Rpb24iLCJkZWZhdWx0VmFsdWUiLCJkZWZhdWx0VmFsdWVCeUluZGV4IiwiZGlzYWJsZWQiLCJkaXNhYmxlQXV0b1Njcm9sbCIsImRpc2FibGVkSW5kZXhzIiwib25Gb2N1cyIsIm9uQmx1ciIsIm9uU2Nyb2xsRW5kUmVhY2hlZCIsImJ1dHRvblN0eWxlIiwiYnV0dG9uVGV4dFN0eWxlIiwicmVuZGVyQ3VzdG9taXplZEJ1dHRvbkNoaWxkIiwicmVuZGVyRHJvcGRvd25JY29uIiwiZHJvcGRvd25JY29uUG9zaXRpb24iLCJzdGF0dXNCYXJUcmFuc2x1Y2VudCIsImRyb3Bkb3duU3R5bGUiLCJkcm9wZG93bk92ZXJsYXlDb2xvciIsInJvd1N0eWxlIiwicm93VGV4dFN0eWxlIiwic2VsZWN0ZWRSb3dTdHlsZSIsInNlbGVjdGVkUm93VGV4dFN0eWxlIiwicmVuZGVyQ3VzdG9taXplZFJvd0NoaWxkIiwic2VhcmNoIiwic2VhcmNoSW5wdXRTdHlsZSIsInNlYXJjaElucHV0VHh0Q29sb3IiLCJzZWFyY2hJbnB1dFR4dFN0eWxlIiwic2VhcmNoUGxhY2VIb2xkZXIiLCJzZWFyY2hQbGFjZUhvbGRlckNvbG9yIiwicmVuZGVyU2VhcmNoSW5wdXRMZWZ0SWNvbiIsInJlbmRlclNlYXJjaElucHV0UmlnaHRJY29uIiwib25DaGFuZ2VTZWFyY2hJbnB1dFRleHQiLCJkaXNhYmxlZEludGVybmFsU2VhcmNoIiwiX3VzZVJlZnMiLCJ1c2VSZWZzIiwiZHJvcGRvd25CdXR0b25SZWYiLCJkcm9wRG93bkZsYXRsaXN0UmVmIiwiX3VzZVNlbGVjdERyb3Bkb3duIiwidXNlU2VsZWN0RHJvcGRvd24iLCJkYXRhQXJyIiwic2VsZWN0ZWRJdGVtIiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdEl0ZW0iLCJyZXNldCIsInNlYXJjaFR4dCIsInNldFNlYXJjaFR4dCIsIl91c2VMYXlvdXREcm9wZG93biIsInVzZUxheW91dERyb3Bkb3duIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwiYnV0dG9uTGF5b3V0Iiwib25Ecm9wZG93bkJ1dHRvbkxheW91dCIsImdldEl0ZW1MYXlvdXQiLCJkcm9wZG93bldpbmRvd1N0eWxlIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsIm9wZW5Ecm9wZG93biIsImNsb3NlRHJvcGRvd24iLCJzZWxlY3RJbmRleCIsImluZGV4IiwiY3VycmVudCIsIm1lYXN1cmUiLCJmeCIsImZ5IiwidyIsImgiLCJweCIsInB5Iiwib25MYXlvdXQiLCJzY3JvbGxUb09mZnNldCIsIm9mZnNldCIsImhlaWdodCIsImFuaW1hdGVkIiwib25TZWxlY3RJdGVtIiwiaXRlbSIsInJlbmRlclNlYXJjaFZpZXciLCJqc3giLCJzZWFyY2hWaWV3V2lkdGgiLCJ2YWx1ZSIsInZhbHVlQ29sb3IiLCJwbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyVGV4dENvbG9yIiwib25DaGFuZ2VUZXh0IiwidHh0IiwiaW5wdXRTdHlsZSIsImlucHV0VGV4dFN0eWxlIiwicmVuZGVyTGVmdCIsInJlbmRlclJpZ2h0IiwicmVuZGVyRmxhdGxpc3RJdGVtIiwiX3JlZjIiLCJpc1NlbGVjdGVkIiwiaXNFeGlzdCIsIlRvdWNoYWJsZU9wYWNpdHkiLCJpbmNsdWRlcyIsImFjdGl2ZU9wYWNpdHkiLCJzdHlsZSIsIm1lcmdlU3R5bGVzIiwic3R5bGVzIiwiZHJvcGRvd25Sb3ciLCJvblByZXNzIiwiY2hpbGRyZW4iLCJWaWV3IiwiZHJvcGRvd25DdXN0b21pemVkUm93UGFyZW50IiwiVGV4dCIsIm51bWJlck9mTGluZXMiLCJhbGxvd0ZvbnRTY2FsaW5nIiwiZHJvcGRvd25Sb3dUZXh0IiwidG9TdHJpbmciLCJyZW5kZXJEcm9wZG93biIsImpzeHMiLCJ2aXNpYmxlIiwiYmFja2dyb3VuZENvbG9yIiwibGF5b3V0U3R5bGUiLCJGbGF0TGlzdCIsImtleUV4dHJhY3RvciIsInJlbmRlckl0ZW0iLCJMaXN0SGVhZGVyQ29tcG9uZW50Iiwic3RpY2t5SGVhZGVySW5kaWNlcyIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJvbkVuZFJlYWNoZWQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJkcm9wZG93bkJ1dHRvbiIsInJvdyIsInJvd1JldmVzZSIsImRyb3Bkb3duQ3VzdG9taXplZEJ1dHRvblBhcmVudCIsImRyb3Bkb3duQnV0dG9uVGV4dCIsIl9kZWZhdWx0IiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNlbGVjdERyb3Bkb3duLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge2ZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7VmlldywgVGV4dCwgVG91Y2hhYmxlT3BhY2l0eSwgRmxhdExpc3R9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzJztcbmltcG9ydCB7aXNFeGlzdH0gZnJvbSAnLi9oZWxwZXJzL2lzRXhpc3QnO1xuaW1wb3J0IHttZXJnZVN0eWxlc30gZnJvbSAnLi9oZWxwZXJzL21lcmdlU3R5bGVzJztcbmltcG9ydCBJbnB1dCBmcm9tICcuL2NvbXBvbmVudHMvSW5wdXQnO1xuaW1wb3J0IERyb3Bkb3duT3ZlcmxheSBmcm9tICcuL2NvbXBvbmVudHMvRHJvcGRvd25PdmVybGF5JztcbmltcG9ydCBEcm9wZG93bk1vZGFsIGZyb20gJy4vY29tcG9uZW50cy9Ecm9wZG93bk1vZGFsJztcbmltcG9ydCBEcm9wZG93bldpbmRvdyBmcm9tICcuL2NvbXBvbmVudHMvRHJvcGRvd25XaW5kb3cnO1xuaW1wb3J0IHt1c2VTZWxlY3REcm9wZG93bn0gZnJvbSAnLi9ob29rcy91c2VTZWxlY3REcm9wZG93bic7XG5pbXBvcnQge3VzZUxheW91dERyb3Bkb3dufSBmcm9tICcuL2hvb2tzL3VzZUxheW91dERyb3Bkb3duJztcbmltcG9ydCB7dXNlUmVmc30gZnJvbSAnLi9ob29rcy91c2VSZWZzJztcblxuY29uc3QgU2VsZWN0RHJvcGRvd24gPSAoXG4gIHtcbiAgICBkYXRhIC8qIGFycmF5ICovLFxuICAgIG9uU2VsZWN0IC8qIGZ1bmN0aW9uICAqLyxcbiAgICBkZWZhdWx0QnV0dG9uVGV4dCAvKiBTdHJpbmcgKi8sXG4gICAgYnV0dG9uVGV4dEFmdGVyU2VsZWN0aW9uIC8qIGZ1bmN0aW9uICovLFxuICAgIHJvd1RleHRGb3JTZWxlY3Rpb24gLyogZnVuY3Rpb24gKi8sXG4gICAgZGVmYXVsdFZhbHVlIC8qIGFueSAqLyxcbiAgICBkZWZhdWx0VmFsdWVCeUluZGV4IC8qIGludGVnZXIgKi8sXG4gICAgZGlzYWJsZWQgLyogYm9vbGVhbiAqLyxcbiAgICBkaXNhYmxlQXV0b1Njcm9sbCAvKiBib29sZWFuICovLFxuICAgIGRpc2FibGVkSW5kZXhzIC8qIGFycmF5IG9mIGRpc2FibGVkIFJvdyBpbmRleCAqLyxcbiAgICBvbkZvY3VzIC8qIGZ1bmN0aW9uICAqLyxcbiAgICBvbkJsdXIgLyogZnVuY3Rpb24gICovLFxuICAgIG9uU2Nyb2xsRW5kUmVhY2hlZCAvKiBmdW5jdGlvbiAgKi8sXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBidXR0b25TdHlsZSAvKiBzdHlsZSBvYmplY3QgZm9yIGJ1dHRvbiAqLyxcbiAgICBidXR0b25UZXh0U3R5bGUgLyogc3R5bGUgb2JqZWN0IGZvciBidXR0b24gdGV4dCAqLyxcbiAgICByZW5kZXJDdXN0b21pemVkQnV0dG9uQ2hpbGQgLyogZnVuY3Rpb24gcmV0dXJucyBSZWFjdCBjb21wb25lbnQgZm9yIGN1c3RvbWl6ZWQgYnV0dG9uICovLFxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgcmVuZGVyRHJvcGRvd25JY29uLFxuICAgIGRyb3Bkb3duSWNvblBvc2l0aW9uLFxuICAgIHN0YXR1c0JhclRyYW5zbHVjZW50LFxuICAgIGRyb3Bkb3duU3R5bGUsXG4gICAgZHJvcGRvd25PdmVybGF5Q29sb3IgLyogc3RyaW5nICovLFxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgcm93U3R5bGUgLyogc3R5bGUgb2JqZWN0IGZvciByb3cgKi8sXG4gICAgcm93VGV4dFN0eWxlIC8qIHN0eWxlIG9iamVjdCBmb3Igcm93IHRleHQgKi8sXG4gICAgc2VsZWN0ZWRSb3dTdHlsZSAvKiBzdHlsZSBvYmplY3QgZm9yIHNlbGVjdGVkIHJvdyAqLyxcbiAgICBzZWxlY3RlZFJvd1RleHRTdHlsZSAvKiBzdHlsZSBvYmplY3QgZm9yIHNlbGVjdGVkIHJvdyB0ZXh0ICovLFxuICAgIHJlbmRlckN1c3RvbWl6ZWRSb3dDaGlsZCAvKiBmdW5jdGlvbiByZXR1cm5zIFJlYWN0IGNvbXBvbmVudCBmb3IgY3VzdG9taXplZCByb3cgKi8sXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBzZWFyY2ggLyogYm9vbGVhbiAqLyxcbiAgICBzZWFyY2hJbnB1dFN0eWxlIC8qIHN0eWxlIG9iamVjdCBmb3Igc2VhcmNoIGlucHV0ICovLFxuICAgIHNlYXJjaElucHV0VHh0Q29sb3IgLyogdGV4dCBjb2xvciBmb3Igc2VhcmNoIGlucHV0ICovLFxuICAgIHNlYXJjaElucHV0VHh0U3R5bGUgLyogdGV4dCBzdHlsZSBmb3Igc2VhcmNoIGlucHV0ICovLFxuICAgIHNlYXJjaFBsYWNlSG9sZGVyIC8qIHBsYWNlaG9sZGVyIHRleHQgZm9yIHNlYXJjaCBpbnB1dCAqLyxcbiAgICBzZWFyY2hQbGFjZUhvbGRlckNvbG9yIC8qIHRleHQgY29sb3IgZm9yIHNlYXJjaCBpbnB1dCBwbGFjZWhvbGRlciAqLyxcbiAgICByZW5kZXJTZWFyY2hJbnB1dExlZnRJY29uIC8qIGZ1bmN0aW9uIHJldHVybnMgUmVhY3QgY29tcG9uZW50IGZvciBzZWFyY2ggaW5wdXQgaWNvbiAqLyxcbiAgICByZW5kZXJTZWFyY2hJbnB1dFJpZ2h0SWNvbiAvKiBmdW5jdGlvbiByZXR1cm5zIFJlYWN0IGNvbXBvbmVudCBmb3Igc2VhcmNoIGlucHV0IGljb24gKi8sXG4gICAgb25DaGFuZ2VTZWFyY2hJbnB1dFRleHQgLyogZnVuY3Rpb24gY2FsbGJhY2sgd2hlbiB0aGUgc2VhcmNoIGlucHV0IHRleHQgY2hhbmdlcywgdGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZGlzYWJsZSB0aGUgZHJvcGRvd24ncyBpbnRlcm5hIHNlYXJjaCB0byBiZSBpbXBsZW1lbnRlZCBtYW51YWxseSBvdXRzaWRlIHRoZSBjb21wb25lbnQgICovLFxuICB9LFxuICByZWYsXG4pID0+IHtcbiAgY29uc3QgZGlzYWJsZWRJbnRlcm5hbFNlYXJjaCA9ICEhb25DaGFuZ2VTZWFyY2hJbnB1dFRleHQ7XG4gIC8qICoqKioqKioqKioqKioqKioqKiogaG9va3MgKioqKioqKioqKioqKioqKioqKiAqL1xuICBjb25zdCB7ZHJvcGRvd25CdXR0b25SZWYsIGRyb3BEb3duRmxhdGxpc3RSZWZ9ID0gdXNlUmVmcygpO1xuICBjb25zdCB7XG4gICAgZGF0YUFyciwgLy9cbiAgICBzZWxlY3RlZEl0ZW0sXG4gICAgc2VsZWN0ZWRJbmRleCxcbiAgICBzZWxlY3RJdGVtLFxuICAgIHJlc2V0LFxuICAgIHNlYXJjaFR4dCxcbiAgICBzZXRTZWFyY2hUeHQsXG4gIH0gPSB1c2VTZWxlY3REcm9wZG93bihkYXRhLCBkZWZhdWx0VmFsdWVCeUluZGV4LCBkZWZhdWx0VmFsdWUsIGRpc2FibGVkSW50ZXJuYWxTZWFyY2gpO1xuICBjb25zdCB7XG4gICAgaXNWaXNpYmxlLCAvL1xuICAgIHNldElzVmlzaWJsZSxcbiAgICBidXR0b25MYXlvdXQsXG4gICAgb25Ecm9wZG93bkJ1dHRvbkxheW91dCxcbiAgICBnZXRJdGVtTGF5b3V0LFxuICAgIGRyb3Bkb3duV2luZG93U3R5bGUsXG4gIH0gPSB1c2VMYXlvdXREcm9wZG93bihkYXRhLCBkcm9wZG93blN0eWxlLCByb3dTdHlsZSwgc2VhcmNoKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgIHJlc2V0KCk7XG4gICAgfSxcbiAgICBvcGVuRHJvcGRvd246ICgpID0+IHtcbiAgICAgIG9wZW5Ecm9wZG93bigpO1xuICAgIH0sXG4gICAgY2xvc2VEcm9wZG93bjogKCkgPT4ge1xuICAgICAgY2xvc2VEcm9wZG93bigpO1xuICAgIH0sXG4gICAgc2VsZWN0SW5kZXg6IGluZGV4ID0+IHtcbiAgICAgIHNlbGVjdEl0ZW0oaW5kZXgpO1xuICAgIH0sXG4gIH0pKTtcbiAgLyogKioqKioqKioqKioqKioqKioqKiBNZXRob2RzICoqKioqKioqKioqKioqKioqKiogKi9cbiAgY29uc3Qgb3BlbkRyb3Bkb3duID0gKCkgPT4ge1xuICAgIGRyb3Bkb3duQnV0dG9uUmVmLmN1cnJlbnQubWVhc3VyZSgoZngsIGZ5LCB3LCBoLCBweCwgcHkpID0+IHtcbiAgICAgIG9uRHJvcGRvd25CdXR0b25MYXlvdXQodywgaCwgcHgsIHB5KTtcbiAgICAgIHNldElzVmlzaWJsZSh0cnVlKTtcbiAgICAgIG9uRm9jdXMgJiYgb25Gb2N1cygpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBjbG9zZURyb3Bkb3duID0gKCkgPT4ge1xuICAgIHNldElzVmlzaWJsZShmYWxzZSk7XG4gICAgc2V0U2VhcmNoVHh0KCcnKTtcbiAgICBvbkJsdXIgJiYgb25CbHVyKCk7XG4gIH07XG4gIGNvbnN0IG9uTGF5b3V0ID0gKCkgPT4ge1xuICAgIGlmIChkaXNhYmxlQXV0b1Njcm9sbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2VsZWN0ZWRJbmRleCA+PSAzICYmIGRyb3BEb3duRmxhdGxpc3RSZWYpIHtcbiAgICAgIGRyb3BEb3duRmxhdGxpc3RSZWYuY3VycmVudC5zY3JvbGxUb09mZnNldCh7XG4gICAgICAgIG9mZnNldDogcm93U3R5bGUgJiYgcm93U3R5bGUuaGVpZ2h0ID8gcm93U3R5bGUuaGVpZ2h0ICogc2VsZWN0ZWRJbmRleCA6IDUwICogc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uU2VsZWN0SXRlbSA9IChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGNsb3NlRHJvcGRvd24oKTtcbiAgICBvblNlbGVjdCAmJiBvblNlbGVjdChpdGVtLCBpbmRleCk7XG4gICAgc2VsZWN0SXRlbShpbmRleCk7XG4gIH07XG4gIC8qICoqKioqKioqKioqKioqKioqKioqIFJlbmRlciBNZXRob2RzICoqKioqKioqKioqKioqKioqKioqICovXG4gIGNvbnN0IHJlbmRlclNlYXJjaFZpZXcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHNlYXJjaCAmJiAoXG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHNlYXJjaFZpZXdXaWR0aD17YnV0dG9uTGF5b3V0Lnd9XG4gICAgICAgICAgdmFsdWU9e3NlYXJjaFR4dH1cbiAgICAgICAgICB2YWx1ZUNvbG9yPXtzZWFyY2hJbnB1dFR4dENvbG9yfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtzZWFyY2hQbGFjZUhvbGRlcn1cbiAgICAgICAgICBwbGFjZWhvbGRlclRleHRDb2xvcj17c2VhcmNoUGxhY2VIb2xkZXJDb2xvcn1cbiAgICAgICAgICBvbkNoYW5nZVRleHQ9e3R4dCA9PiB7XG4gICAgICAgICAgICBzZXRTZWFyY2hUeHQodHh0KTtcbiAgICAgICAgICAgIGRpc2FibGVkSW50ZXJuYWxTZWFyY2ggJiYgb25DaGFuZ2VTZWFyY2hJbnB1dFRleHQodHh0KTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGlucHV0U3R5bGU9e3NlYXJjaElucHV0U3R5bGV9XG4gICAgICAgICAgaW5wdXRUZXh0U3R5bGU9e3NlYXJjaElucHV0VHh0U3R5bGV9XG4gICAgICAgICAgcmVuZGVyTGVmdD17cmVuZGVyU2VhcmNoSW5wdXRMZWZ0SWNvbn1cbiAgICAgICAgICByZW5kZXJSaWdodD17cmVuZGVyU2VhcmNoSW5wdXRSaWdodEljb259XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcmVuZGVyRmxhdGxpc3RJdGVtID0gKHtpdGVtLCBpbmRleH0pID0+IHtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gaW5kZXggPT0gc2VsZWN0ZWRJbmRleDtcbiAgICByZXR1cm4gKFxuICAgICAgaXNFeGlzdChpdGVtKSAmJiAoXG4gICAgICAgIDxUb3VjaGFibGVPcGFjaXR5XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkSW5kZXhzPy5pbmNsdWRlcyhpbmRleCl9XG4gICAgICAgICAgYWN0aXZlT3BhY2l0eT17MC44fVxuICAgICAgICAgIHN0eWxlPXttZXJnZVN0eWxlcyhzdHlsZXMuZHJvcGRvd25Sb3csIHJvd1N0eWxlLCBpc1NlbGVjdGVkICYmIHNlbGVjdGVkUm93U3R5bGUpfVxuICAgICAgICAgIG9uUHJlc3M9eygpID0+IG9uU2VsZWN0SXRlbShpdGVtLCBpbmRleCl9PlxuICAgICAgICAgIHtyZW5kZXJDdXN0b21pemVkUm93Q2hpbGQgPyAoXG4gICAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRyb3Bkb3duQ3VzdG9taXplZFJvd1BhcmVudH0+e3JlbmRlckN1c3RvbWl6ZWRSb3dDaGlsZChpdGVtLCBpbmRleCwgaXNTZWxlY3RlZCl9PC9WaWV3PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBudW1iZXJPZkxpbmVzPXsxfVxuICAgICAgICAgICAgICBhbGxvd0ZvbnRTY2FsaW5nPXtmYWxzZX1cbiAgICAgICAgICAgICAgc3R5bGU9e21lcmdlU3R5bGVzKHN0eWxlcy5kcm9wZG93blJvd1RleHQsIHJvd1RleHRTdHlsZSwgaXNTZWxlY3RlZCAmJiBzZWxlY3RlZFJvd1RleHRTdHlsZSl9PlxuICAgICAgICAgICAgICB7cm93VGV4dEZvclNlbGVjdGlvbiA/IHJvd1RleHRGb3JTZWxlY3Rpb24oaXRlbSwgaW5kZXgpIDogaXRlbS50b1N0cmluZygpfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICAgIClcbiAgICApO1xuICB9O1xuICBjb25zdCByZW5kZXJEcm9wZG93biA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNWaXNpYmxlICYmIChcbiAgICAgICAgPERyb3Bkb3duTW9kYWwgc3RhdHVzQmFyVHJhbnNsdWNlbnQ9e3N0YXR1c0JhclRyYW5zbHVjZW50fSB2aXNpYmxlPXtpc1Zpc2libGV9PlxuICAgICAgICAgIDxEcm9wZG93bk92ZXJsYXkgb25QcmVzcz17Y2xvc2VEcm9wZG93bn0gYmFja2dyb3VuZENvbG9yPXtkcm9wZG93bk92ZXJsYXlDb2xvcn0gLz5cbiAgICAgICAgICA8RHJvcGRvd25XaW5kb3cgbGF5b3V0U3R5bGU9e2Ryb3Bkb3duV2luZG93U3R5bGV9PlxuICAgICAgICAgICAgPEZsYXRMaXN0XG4gICAgICAgICAgICAgIGRhdGE9e2RhdGFBcnJ9XG4gICAgICAgICAgICAgIGtleUV4dHJhY3Rvcj17KGl0ZW0sIGluZGV4KSA9PiBpbmRleC50b1N0cmluZygpfVxuICAgICAgICAgICAgICByZWY9e2Ryb3BEb3duRmxhdGxpc3RSZWZ9XG4gICAgICAgICAgICAgIHJlbmRlckl0ZW09e3JlbmRlckZsYXRsaXN0SXRlbX1cbiAgICAgICAgICAgICAgZ2V0SXRlbUxheW91dD17Z2V0SXRlbUxheW91dH1cbiAgICAgICAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fVxuICAgICAgICAgICAgICBMaXN0SGVhZGVyQ29tcG9uZW50PXtyZW5kZXJTZWFyY2hWaWV3KCl9XG4gICAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXM9e3NlYXJjaCAmJiBbMF19XG4gICAgICAgICAgICAgIGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9XCJhbHdheXNcIlxuICAgICAgICAgICAgICBvbkVuZFJlYWNoZWQ9eygpID0+IG9uU2Nyb2xsRW5kUmVhY2hlZCAmJiBvblNjcm9sbEVuZFJlYWNoZWQoKX1cbiAgICAgICAgICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkPXswLjV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRHJvcGRvd25XaW5kb3c+XG4gICAgICAgIDwvRHJvcGRvd25Nb2RhbD5cbiAgICAgIClcbiAgICApO1xuICB9O1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHJldHVybiAoXG4gICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAgICAgIGFjdGl2ZU9wYWNpdHk9ezAuOH1cbiAgICAgIHJlZj17ZHJvcGRvd25CdXR0b25SZWZ9XG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICBvblByZXNzPXtvcGVuRHJvcGRvd259XG4gICAgICBzdHlsZT17bWVyZ2VTdHlsZXMoXG4gICAgICAgIHN0eWxlcy5kcm9wZG93bkJ1dHRvbixcbiAgICAgICAgZHJvcGRvd25JY29uUG9zaXRpb24gPT0gJ2xlZnQnID8gc3R5bGVzLnJvdyA6IHN0eWxlcy5yb3dSZXZlc2UsXG4gICAgICAgIGJ1dHRvblN0eWxlLFxuICAgICAgKX0+XG4gICAgICB7cmVuZGVyRHJvcGRvd24oKX1cbiAgICAgIHtyZW5kZXJEcm9wZG93bkljb24gJiYgcmVuZGVyRHJvcGRvd25JY29uKGlzVmlzaWJsZSl9XG4gICAgICB7cmVuZGVyQ3VzdG9taXplZEJ1dHRvbkNoaWxkID8gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRyb3Bkb3duQ3VzdG9taXplZEJ1dHRvblBhcmVudH0+XG4gICAgICAgICAge3JlbmRlckN1c3RvbWl6ZWRCdXR0b25DaGlsZChzZWxlY3RlZEl0ZW0sIHNlbGVjdGVkSW5kZXgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApIDogKFxuICAgICAgICA8VGV4dFxuICAgICAgICAgIG51bWJlck9mTGluZXM9ezF9XG4gICAgICAgICAgYWxsb3dGb250U2NhbGluZz17ZmFsc2V9XG4gICAgICAgICAgc3R5bGU9e21lcmdlU3R5bGVzKHN0eWxlcy5kcm9wZG93bkJ1dHRvblRleHQsIGJ1dHRvblRleHRTdHlsZSl9PlxuICAgICAgICAgIHtpc0V4aXN0KHNlbGVjdGVkSXRlbSlcbiAgICAgICAgICAgID8gYnV0dG9uVGV4dEFmdGVyU2VsZWN0aW9uXG4gICAgICAgICAgICAgID8gYnV0dG9uVGV4dEFmdGVyU2VsZWN0aW9uKHNlbGVjdGVkSXRlbSwgc2VsZWN0ZWRJbmRleClcbiAgICAgICAgICAgICAgOiBzZWxlY3RlZEl0ZW0udG9TdHJpbmcoKVxuICAgICAgICAgICAgOiBkZWZhdWx0QnV0dG9uVGV4dCB8fCAnU2VsZWN0IGFuIG9wdGlvbi4nfVxuICAgICAgICA8L1RleHQ+XG4gICAgICApfVxuICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IFNlbGVjdERyb3Bkb3duKHByb3BzLCByZWYpKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSSxRQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxZQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxNQUFBLEdBQUFILHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBTyxnQkFBQSxHQUFBSixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBTCxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVMsZUFBQSxHQUFBTixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVUsbUJBQUEsR0FBQVYsT0FBQTtBQUNBLElBQUFXLG1CQUFBLEdBQUFYLE9BQUE7QUFDQSxJQUFBWSxTQUFBLEdBQUFaLE9BQUE7QUFBd0MsSUFBQWEsV0FBQSxHQUFBYixPQUFBO0FBQUEsU0FBQWMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFoQix3QkFBQW9CLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEs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